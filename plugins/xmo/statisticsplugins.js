/**
 * @author xmo
 * @name statisticsplugins
 * @team xmo
 * @version 0.0.2
 * @description 统计插件的相关下载信息
 * @rule ^(statisticsplugins)$
 * @admin true
 * @priority 0
 * @classification ["插件"]
 * @public true
 * @disable false
 * @systemVersion >=:3.0.0
 * @authentication true
 */

/*
 修改/config/PluginCloudAuthentication.ts文件的getPluginsContent方法中追加以下代码：
  
  const pluginsInfoAll = { ...userInfo, ...pluginsInfo };
  console.log('pluginsInfoAll', pluginsInfoAll);
  try {
    const request = require('util').promisify(require('request');
    const response = await request({
      url: `http://localhost:9090/api/statisticsplugins`,
      method: 'post',
      headers: {
        "Content-Type": "application/json",
      },
      body: JSON.stringify(pluginsInfoAll)
    });
    let sbody = JSON.parse(response?.body);
    sysMethod.startOutLogs('传递插件信息结果', sbody);
  } catch (error) {
    sysMethod.startOutLogs('传递插件信息出错：', error);
  }

*/
/** Code Encryption Block[be188605b2af9d5e9f0e7db22a9634fc371b397d02bd0850c5c0c2298f94e73f5b1fc3c963a629f06dba9f13807e40a033536676388c4fbb05232dd23304f3b8ae31057d53bcbb01d6767680932b9be98c9aa77322b9c0246cb37e2b2659973d84e53072927fab93e612b6cda4f85c60ba0c2acc57827d922d2c865d696f1533a010605ce8c845782da70d79b8ab2147aae24265a7e0a356fa26d9be60e646bae00505cd17308a07f1afe4763594ad43075c4d0a35cfae82fb453ff84ef16e6ceb24d54355a09cd8b7069aa706e93a8fc269fa731e59858a88979cb9777d702239b39b5a1cc7b056649f7f732e83ef8a5d096e9265e934ee9485c6969639b4c59b3687c5361f7e1fe96e1681f043e701dc0d2f6672ab3a1afacd6e43a36d4255b040592b6634b3eed25ef7fb2923021861539c32f6892cf00d29be7171a7d48108acd323b54fe924751c1020fc1c92ba436fc91f05e53c39c0a82299021204db46d7db6b6a9347f8f9f6b597f313afeabda9385faec4a71d0c0ae076932160e4cea09e53a4e7023a8c4eceef35ba032eab370e4d7d8ba693843d7b713f858bae688279df32c09fb412e3b0c952a646a7f3e6b8997d2ab26fcceb6834ccdeda0a94e060604a0af13c776772e63e68cea47bc6c3db51dc39b4cc68a7eef9ea30e938ae43e497af62da7ee12883d724d62e57bc8011c6d0e195c4937ae128b4b99577ebdb9b957e5af2d2bb993728d5359413c83fa326453f81f456744019cb7128c666088af6b8856575a5192ec10cd046f2f406f29aa428aee620c550d1ea30724ad47cb01454c130182fc663623ef5045982b1a3cacef8fb68afb7388e2114b8a3b35081b057d97da5ddf1e513d82a9ababdfea2e22c6e9a4d8378c6e52c642e3e13db5b7a45c598c9cda716ed5c81b5625b74e82dc8bd59ebceeff42e6fcf4841d68f20640cbaa2e8def333f9c26c79681756b74773db55a9a364bb42b3cd30e10856027a657b85d5e2deea163db82e091bc19b7163901e916ae57cbe0ae73450ab2ca2ecc139111bac61a6499ee3cf5b2974357c3a862b62559066ada300f865261bbc72643cfc10a2b78b6da67e5b250c61fe787e1815868275dd62cc744e9ff9270ae6e091be546ae7d082d671de2234da0267bfd1e51fabf171aaba4bafcffe086968f85174d0cf65312bb74a7fb0533182a53462ac1295d645d31d051eddcad02edd4585967f2d769efbf25581683c0a67081af4ba6faeb3a9c54029cdcf089db07b96dccc14cdd8b72a8908ac21ed134bfbfa94d80003c9c25fc4ebe32dadad77bb2d11ae1fb77126bcb40085b9675d77fe8c1de2c4b83e3e600c993e81d444e53b15745d3ca7e3531fff6f3e68fac93475b291db0a2a50052922ec31d59859802a9fa37decd03c9f8255fac5a5bb6023025c5ada60bbbff15482fa0ab4d84817548e6290bda3d50f521070f247291b5829e5a476c59ff4bf9040250d6da8813fcae96c907c885417d18efacc25c537de1bb92bfe62c0aff6b394f35b644f4b893f635542b4aa93f5f11a2adabc34613cdac6cbdee65f725695550d4f2b410ba8e5c3bbef9f6af377bfb0a0d29314ed45edee5aeb3c844387c4fd52e255789594e94a7102fe8c6c11a06d61d9d368a236d55dbe51ca964d09af8de48dda6d5f1545b462ee7290927388c11085a8a3bfe7abf0d07ccea7b05ba3ef782ae7ae923a64ae3af4350274adaabbfcf589d742e5910365713b1032284977c4293bcaa5fc1f5e5b8bef64932e4d40576d76cc5ea5e19329e3b847e1118a4e4e5874c5a39388537347213ab50767129f88647446e7a69f189c03af409450abf003b4dbb26331d51ef81deb80ff88ee3c7d4b184c60cb1291aff796f2906f5e592af777ff51666003f2e206118e3c0827a4f097cc6588d4f8b2f953bb55707bcb2c7e6aa9ba9e5020b5b6b95e90c50edf68d8f164a8751abfe3d25ea5d421a056975103b82f027727c1910d480cfa2dde1b15c57c5d189eb0292616a3bbe173b419d8984c87fa3077465229103debb615762983b4b13aa60bb42e2a6f547ca5dabd4f9236256c5b5489a9849774806a143a510e21779d2df66180a226ca40ed0d0f3878d2bb4ead297462329f44caac9f1c63cd1cab7fc7076f01978fa1a6ede7752d5ba41143bfd06a087d5527d7175c15ef36ba84e8bb8a13a34a1b51d85dbc6e446011bac88a764fa08e95830d4373dc96cd1adad8c3470012989f48873b29ef0c782c9c5a8745df57d6a3c40cd1b8a9f5801f95ccdfc14cbe4769f4e3044be7dbbc0ac1513238215614dcc6380e11b70cb748753ea21b65b3cdaf224c0657d8a8e4a8d9128a39b450b1ecd94223f70594f1522d4c4e4fedddb3b9f30a4fe2c8c040ce18b4b20126b642e6a97d62aea446f99d6f218cbbe9c6f916cfb209417e6f219b8f7eb03948565da2a7aee476ebf81149e8da3439745f00aea00bed6171b850de7243f694198a67dfabfb211b831ef59770d1247be12b205238e2cb9b4f842b9773ce1588b74cfdd7f7325aabe81937b047f6c1272a84fe70570ef37fabdf7829686253a9696e05f90fd84373d7ecf6341ba3b9a9d64c7fada2282a34febc01019ea012924491b8d28ad093fafbc1b3ce1ddb06b3bacf0d660d3c65bd9d971d61d3d6f9df0ee1c8f2df1cd9142f201782c403ab6f52a0be5a52a8fbc1ef99dc8bde3e514ea4483df40c96f32a332be28e64426a7d7f6c7dedd3d8872a3897f67cd37825095ec64175604fefcadb12497803ab38b7b0312d84b8e0edd23faa33c1a44e7a18a8ac96ee88688cf02bf335088a9fc5db71d20dd4bc3562ea554f133e0181488a2568cc8dd8ce5dcc9529d9d1baf47197211a64d4e4c2ef68572a42ee4abb61e856fd3a70fdbcc9c2ac073e09da0511d0ad53cf82142276507e9c2256abf9d920cf4f035f0415e39cbde841abf87d6f1e8599e7fba982935433dae6c8db4f81fbe91ebc8defa28a78371f89edf481445e4b3c6bd31962f21f1007521fbf909bc44283c1e7aa9892e36e886279512a8594eb36f87540d22f4684d9a4944b9b159005c6820254f25b25727aa8441a64abf2bd8cf9b1fcc6eee331b87caaf1f95c60f1b610312ff89b88b7052d509359389119a5f431fbea4ea63291d1939507c922a49b369ee0993d799bd5d0c8851d986d2117a76968bc97562619c6f53168c687a6cba29d474e161cc344c326f393254b05a0cef90e7d48bc7d650e04308ee8789a299f0b099f3ba7719e473586fd9b9e866b4708c707df9d9e149eb579b48b04f193a71498ef6b52ca031be06443c9a9b326605092d1ff874e9836fb992f56a059e58d48e71f14e06541a299299f230cb93a31f664895bf4e3dcabe6c0f310ed40358975325b9fb9d2883c01d975906a0ade188b55bf38d58b576e888ca8f1230eba0fefb05241b3ed1bd02dda6c7a86ca56d229856900a17058c30734c0213d26a588ebea29323005b7e5aab8758104487b865a13b44076b4777f193448a5cd36ef6a850a5e1935dc7bffaec569268fb28808b47fd51683fca1f126f95f61a8ac959190d260517a4195a20ae8371f591eaaa61d950e3f69a43a660c18c140cf130444a9bdada0394ab302448121d203dc08fc333c429863b157ced7c1d22a4bbd69791f7dfa81f74ba43bfb8a200da2052b21ba9bd3788fe96c21a46c8c19ab0d113b0f9633afbc01e7e1537836cf80dae986787d03040887] */