/**
 * @author Merrick
 * @name gemini
 * @origin xmo
 * @version 1.0.8
 * @description gemini聊天
 * @team xmo
 * @rule ^(aigeminis|aigeminic|aigeminip)([\s\S]+)$
 * @admin fasle
 * @public true
 * @priority 9999
 * @classification ["插件"]
 * @disable false
 * @systemVersion >=:3.0.0
 * @authentication true
 */

/*
使用方法：打开https://ai.google.dev/ 获取API key并填入配置界面（获取方法请自行搜索）

命令说明：aigeminis是单问答模式，aigeminic是聊天模式，aigeminip是识图模式（目前只能识别图片链接）
         命令+内容就可以触发，有人行的可以直接回复命令。

如后台提示"User location is not supported for the API use"，请尝试调整梯子

v1.0.1 优化代码，增加单问答模式，修改触发命令，界面增加Max Tokens选项
v1.0.0 基于sumuen大佬的插件修改，本人仅修复bug和适配2.0界面
v1.0.2 适配3.0
*/

/** Code Encryption Block[be188605b2af9d5e9f0e7db22a9634fc7b2de4c4d59355590ba25432c57e71fb606409a9061e9a631c4d45d21ee06bcb1479982b43151bd7a7a4f93840eac37eb1befdf3e99382c7ef0612e25d73a7d9b84635fe12c26a4584fcf70760eb303e02dc3f91daa57e3520b6f6bedb6126518afad2162cddf21dac3b9c0d60f3b2dbe31fa0b246ce9aec2b678aab35546c73dcb882300b845aeae8676a25332f67644f5cfdb9a20a502e272fd5775d423b90b7b1d63558b9e7b69ae9a385e2c48d5a7162642a0f917b8f42ec11a3343ead0b47f96c7647ff16fe9aae4f1bb93651980b30e7460457dc98f386df6857c3f59c39827f06687ff305a6893cdc8763f2e57e42b29ca05b948c1433d16390c7e936ebb022b93e214440c8475d1f32317d091c5ad4f1d8667d95440eae12a825b9537b7d61864d125291dbea6f075e3d63d3d96a1ad3d55eba1f70859980656b43d617418448d334c509a64c65dccdb2f1bd4de13b6b88b47df3d7eacdc5170ee99c3f5bc09d70d1c5d10c4c32eb6db9b699823cb0b2cc4ddc3eb2fd8473a740b5acaab62d9f2d20b0f5497f2bd2b08452d233a46fff1ed5035ac42acabb4fd6aaec7c61531d1321c86490c7c29eee08802c026ebe75b64d3ee856edcbeeab8d20610beb6cea6648f240d43c4723e6209484486bab71459f655a4705a16721e5009b508828794f147a85fa751d831fcdf35e7ae3c29d24481039414ca4367f7a1b38d6585185867c1efbbbee6b569d1a27d30db4304b42c8994c9eaca8b7f5a27c8d46708312f8eff165fa7f3f1037e5ef4336236cafe292ea78fb30ed1871f95f1fe0fe4bdf16661b45ae35387193f409ba17f4f3811291618d9ebc5f70664ed15d3208db1df08a54a4fdd49dde89206aa57f799d58afaaad635b079c3cb8835254b84b90c4226b54ea814c1064c65199659de44af933d5d0c76ae30045ccd9539ab56dc9089556e09c1d088533e1f40ae86b758a28bf050c06d5b7dacc978638a49d0b939b85613483edf6bccd6a11885cf2563b3907a276579b1d0ed23dc77987b10db8137bdbadbcf4494a419c419f14c6ff40278f10675457769de29fb9064198e3c84e5bec7c15f528015794bb0b1c1991e62b2af228217b1d1119712676cead2c76f001c62656ef2fb36e18e0ecea348688b099e2d1bf3d54d814263915b85ddc4d9557b31c52f0464eaa06c5e52f8cb79ac61af1a0f221e67090e162e615b489f257932fd6f1b39b2c2f5d5ea12fe62034d5f8761a9f75f4d214c9c1a1c7f4d799affb0e0ad1e527551675d86e2f53ea6ef92fe9f8ca36afb0e75c5d29bd89a27aedb3b8cf642c6831f29cec9d162aecdf18c2f3c29bf3d8f61c9c0aa6ec88fc74cdfdc97ef7c9fdca6cd12040b35eb7449a52f8fd4cc11cca7c149ce74caff95b46739e51bd3549d7863bc6fc0fbb493d8fc2e118683f805b48d14cc256e8c38385b7e66c295b2f4a91391c7994637a0868df1c9b959520a5a35deb98f6d571f5ae878d9bc3cf7e61c266b579f91fa6648e8abba6866e8f9bf5f0b86cefa0f5f018057acc7d6105f6990512502f16e8b56630e5ed7c5f545e12e5df19566dbde224ea7b0560d0cc7b7afcd9e9a3414120d528261e7bf451837ade2c70c6cd8589ebd3c5a37ec225ccb154a87e1ae4122556bf895391f7eaeecef694739714bdea2d15bab04abea64e7a85121523e2a665874bb481e30a8731e1962ee4f935c038a1105b673df56ee6b061f8c535d326fa7aa4f94cb39c2701d57a5b7eeb9cb3ab84ce955a1c9f6d9f8ebb0aa45de0ab113e24e279b179bc8a7d87ff5d9a023bcfb824989b86bae8af07658f54d9be3a30c0a1bc4ac747b772ffff738a99bbb07fdf0021fb15efff829901a5b3f3f85e1bcc58a7e8602466d294ce6b75966de2dd8b720f510ded3f971c8730734ee87ba066eee4d9d57b6a3fd26f4ce1cb361cfe6eeec90c48a5a180c976cd07f2817f879f20aa73b408b072019257d9f07870f7d6088533c7c0890f651d2726fde65febec3c4d4968218d62f9106a45c9cfbe0d7c30489d62ed82ccbfbace92ee92b5caacf2086df4d2ba400662946098ef49ba685802e8517b894112845b6117da7637f62c83cd4c095f5c87807d7aab5503c907054da99f2ea568f1334ba37fe42e26ea5ebedc18ed2b09ea0537b913677e1702bc454702e4001ccb55ea1a596056d34a045aa66d73800004509bacab00956a2a04328e786fe0b94323f22f843843f8c11aa00c85d6c45e2e453f990c6fc19239ab072a8d2c25ab7d0c8f24f21fb37e8a15acb7884d0fcc6698b3ff76cce677667f091b6239bdf98b4e296e7e2b96f8812331b2d2b8f6c0885cb985c437335949ebd31e8345bc74278ee35e9bc415bfc9bb2d619493d081329fd23a9946fd048cfa4dec95c9355621bcf5821d726008d1233fc581a5e47b31c5d669f0249b06f8bb7cd201cbb704113fdd79aaa64618589926e0841776f654839434fdfc8fd45bc7f818c0790415daf706ff363ecd77a4f4eb192515c78cd58f11e90af942e2765969c2654ef73b5b2f0afc21106132c9c3519ab998bc379cc2658e349c144ed1229593b0d90cb80f0838170e5df52c2e17eba95b85a8c550a55b5e40bfc697121278ba8b0294b9a051a5f14dbd260973a4a3390959fe9feb5487b8e86c2508cb0236f3fcf95127df0bb4b0ab81fbdc4b8560904cf9877d49822fc6c7b517c806f139912dc8329f84b052775b90455c6dfc93a2226de48ed9718eb1a08289c05abc95372812f7f43b8e98d4d638c5e6ad1a6501a01b21a65588bdc7999d18e92d7d951a5755f056710ae6b0f9df748efbf5d892e52092e289894679e4d24e4c3408bf0e93470f3b128605775e958bc211dfbe44339079d2e895f33cf753956b59dee13e3857acf8ca5659159f7d85dfa629f864207c5d355fe8899fae23741c5a511eaf1f4696206dd7bf1cff5d58a0d2cac1ddcdc45151b34f79991036959280c92f5fee3466f1e5be3416cc3d5b8117ecafcc3347ba34708265991280941aa0855e7264d1de3c06542b8beaacc94a6eaa967250879a5482c7fc3284cc2dcf4bb0cd894651cdf1cc656089e104bfaaa9ea3e3ea43a8b2bac8bd6f6140a2fd705854f48b3794ba2964a7be4d860a2c07d64ac7bbb7f981f64f5e0e334d8b83ba442f543d549010f34f0d701e6342f3f5a56edc924c93d8fc357e4bbc61cb9a83d2e04f03e74be1bbe6e98a9194e42f090ab922513c249e512af8a1fc91b40b6377b10f6b75d3406eed0a602e772f771ef2f6c63917409d585020afa5d3f7dda3fc00174d2d19a8769826f77f996faaf44b4d6f09a0b1ff96726827200a519a328b8fd78f0f7ecba8495068979712a1837f6e910a6d39f7aa94e724c0114f027eec613589fe1f39b537a2e0c7072abd9473d66eaaf4ddfcc74438fc991277017aed6aa6cdc7f937454315c33f6ae604de2a6d44e6e5770c8c37310f693bbc49e57fdc68aedfd798072b35f369edd80b8503039f6fc1574f7435bc1f8ca17a6343c0e5e420269a906b8e34f05ca2a49a872f1c04eec8ab2ed0a85c3aa53cf1609dbbb918233aa589bb41bb4993510781aa9ce3edf0060866a48190c8a7905bf01d7a28da3a1608e488c16831d9a135df3b16414dc31ebbfd9a12d638b4a853f8054bc8b0552df88936886cce0a575b1f2f17ea6c2b0db805020572b3449a7f70a2251eec4ba370ddf8ef7747eea112ce6f079dc458866c79f35ee2fa36995fd351bf681ceeceac5be89732dd7496b82f7af57ed7c319b563f11a686009be364a9e46fd749679cc56031712535cd3684775c6e9923bced2111a1ea6753a9b57892661a6cacef498027d4d205a7dcc4c023825aab80eb70a6f0e90b8741c9d7a9cd69f6b39d8c5275902796ba7cfbb07d8f171995f7d1bd904748d46ba2fd2b92c823520cc19d75b9bcaaebd4574babf9cc5695caa3d2fd2c5bb01a98698d29bf1d63bef5dd3fb125d086cb71b1c4ebc2a17a02b46737b114e538ebd6d41d66092a9bfd025f11234133b7f84358ef92c641b098bec9e0d1689880d16d3ed36c130faa9a159266929596ad6312e63dab07bba0ac3c090606ddb6e4f2de1a15095315d3cb87ad20cdfd9f065264ce65dc8b3fd5c70a064c877b4a723711d34e9885331d6f7d732d3df7737ab086a950c38fa2ecf0c36d5125b97a3a87d681050b147e931077a224376630246e34b07702a24f61ad020a6aacdfb8ed4f7d2bbcd775f34f592472cff7d54a5ae419d105825cc52fca22cd13a68c948389f77e2fcd125816be8dff73fd26e82126ce3cebfc3131cbae9a3cd420c1d3b423307b1430f6d22a8bebaf5e0b09e0ba9c175258f35f0e61971cfd12dbb68ca2a0cd438ea1845766681fe4e5bc71238b721aa4cef32eab6795eaa2883d7773d50d8d2fddc595f743d90f0da6ae160afd8bd30392870124824fc3f623e223d63abaa34a1865fe7780126555bef0f1e1f7a1bcf3bbf6b563d085680bed7512b5b7b3425d1e3a30ff5d197cac6e4f77b757b638e2b1ccb3f64cb75b429c57db144b1b6e8c9750719b6980bfb54b114326e15e9cdd2fc64927651fb97fbf6c5f6cf984df273268fba40ab06205001b2b6db8a38e1f761e63d0719a3d4f84c6bcfb9243dc603a7055c109ba4c6a48571eab363437b025b2e65c93c6c6ca6965f800749523505d7433b8ba000687dd3c2681a8ca63b1c3fd6ce567f28e55e7a13c450b14a1d1775d0bf78ef3a9b2c0d1dda36994eb194f5731a47633055d53db0ce2efab5ce46929c96032f04b195ee012ca10717ff7c079b76996aaa6bed9aa7f01526f12499916eae74924992ecb994d568729eca31a61117148a8c3062646f2aa6b4a4a1f739e0e8f14b117e93378e198e631bfd467753ee43bb3b756124017284735ab452d0c556bf1f597f15a02994b5297b84b71af00c514aacfa96ae15003c38a22503598d7c9351a7e48a6a2834d227297d37ee0f678e496c24e9774ed03668a39bc5d4c0586df9c822c9f811f88ed12c6169c064542c7847bcd80a9035c7c33ff86f99578afc6f88c2d2f8513ffe6ab13d971b39d62a3f72b9e931c8622c60bb548f1b1c1e568fc85de6d3cbf4b1d6be04c3ddea178570de9056a3a1f62ba7df33f895fe474ef1c080db28bf347739fb9411c01e1d006aae5ff906e6387d774a690117f4c59c551e701dd3a5b4ec15e5641a056edb83df57d7b3e7c520243c04f635256c4904040c9ef4a2e24dd5ef0c0833f29c26e5c81c9b2f7d9a8c16b5ae61e709433a1904daca4f2985cab8b1c93c43a4e03b7088c8f288609e357683f20fb2dc4dcb9afe45304ff1ee5ba562cd7eb199b93a6ae07249f6bc3d1e5e5eaf48f7fadfb3e8d9c5990f3b186ea5c597282d01c1e0cdf1850c410af987d0dfa710a451588c066874adfa40bf51f05106a90053cb15cf27443eb0c93a784958f7ad7ec1e2c850180e4fb2a52b7bd214153f878ec02d318d287c8c26d32cb09e1c8e58c993566eac9073119ce37a95a62eca9f8a328cb8a7c7bebb31f2d065b8ad33f6ea30274cad1cfe1b156d12f5a0237080b2360f3b6c1ebf79b0631ba632c8c7bd68495e4e1b05a4047807e213b3dcaecc19d8c7d3c4552c868eed659a6c3421cb45e0148f1628e720668a7c2d216538a0a342101e6d5d4f1a8b0f9ff9756dcf3a0c4e7a6c3fe811ad007aae520dbe3ec9fdcf891e153a1b51f5d59916b4a4d98a4e35b77f05261ce7cd506eacfe87f1f6d777f99915e0c8464a688935d6f87f053ce345ce4e7d83dec6800ab08e681ca65c2023af7fe708730d2271cdaba23c8f62cd1eabcf368622317c254079ea3e2c990650cb4b3bb3aacf154fc3c96eeebe2606d87c31ce2aafed627fb340858ffda90c15ac8bf8550728085889e2872c5ed1dd35de02de2457b2c1a0d1fadb241c68b9263857368eb2782bfa8805eead4da4278e840bb9dd0fcb960ad44709c5820bbe7cf9cd6f17b5be760fe57dddb93d65794fd6a513c3e23f19475c5202742c3d8d713f63f56bf3a250e614eafaedff869d62282ee6373dcf453942542566a86b86896c6324d60a3f15e365b864af90babd6bac8cdc4c8091bdf6b26f9186f2a0fed0329fc9313c90e2e0ca210ee2d32ae50d1407cf9efca807cd160fcf72a296489e1503982cd039701b0897237897396a45745d51d6992fafb6a85637640571bffbd97ce53f7d95c957950300de2beaaa76938065c1bcfd1a571f167183cb83a206f55ea0fddd43768ee616510c44addbb5b750cae3f7cde9482cc8eec06c9acb3da4514e08a182ce1bb1a1aca1fde9142d1357907efbf37cf58dcbb563fe12d183f250f03ca5290276debeb7c5fe12d3dc0da28dbe2c0fd0a3778f79f023167b33d9358c64f9a2d93369b10e11598d3a60ade4921183164f97a38586327e744305da5c9a9b16bf3a07880a4104baac2a96dd87423d4ffd6e5620269ded72b378a67b6cde47c73b8600e07fa385a51f129e4a50d9fc605068a9a1ee813dbd25c001c52fc2a389cc8ccb7a7053fbd9802362553132cdbf3d4b89ec3f20c2a7ac36cf6395e76280534aeaca1cba0c0b8b589527d8bdba4ac47d6d6a1ddc38dee92599ced123ada960fceb91fc89695e38cbf4de2ab953f095558e03a255a7714ad5ae8c35d8c79c813d9d629c25e6878d06c99a33fed0c56fd61ae712dbffde7c533327c0fafbafbdc11ab370cd7d195b2771d302dc09537a11b587d183ea8991135b2f181477e0918608a094c49da15c5dcfb5af8fe29724c614fa741ff963b7b7327140f1d6f08c30a50b150353e444bad42e71f35aa513ed6013f9192ccdb3511cfad5b2426e1fda6309614d1203826ac29999e7e77407905f40d906ba88052fcb394c2f2c9d830ccfd9523af6327610e2cc090162a5db4c11c2c8709d92a64a34af7f0ee91dcd0f948e17a0455fd69416baebd88b2295a382f75ccf647f6de1cd5acb962687c6c39226ba43d1d06355c7edcdc0dc9e9ecbe7c51e937a28df25b8aa1abc03dbf57fb212f1d69b90a58a94948ef8732e8f50d2e6a85bb5f21fd25c6bef42df1d85e1118256d491ef6295414576a4a2bfebea1a527fcd1e66ca540d097d62c1aadbfd8962508afc3b343a69eab3bed819759be476e889835852625cb79b9abd4e3aec8aa03efda84865bd8c77ca89c2fd58577c146ac4efc79067b2bc26c9f1c2b9ea0f553951c5009b815aa5709b01a82958e33b46af10f1ecb655bd683abc226fb06b60586971754b3c61c89a807d12af6025cb05e2ed55bc3c3f46f48f889bf7f73841e71cd8a249e20b2d7e092e9e31984b71332a4fca49de6183b3498755e9871f54bd78f942f77d8cbda1073b7276bfc960d3d129f997d078bcb8ed44ce9b10b3d2dd6643c12c99bcb1697b7cd66a11b182a89f15e85b7ea12ae7178071f84c9934ec6c79d4c202c3217dabca83c0cefc48d0f8fce305752bf4c6fe17635cd3c3777ce50cd8ec6efa78cc6f99f8ea90737f5c02524261eae8995c1fdf254ab0ea73e2f3cbddc89fe7f195d3b1c2a7d47d2838d94b60112bed5602a072b7327a71d682836691724806d86a96955da6925ef6d8aa30afa6c1cd688bcb2273896e39bfe81861e975ae88cccbeb4345dfb731cd3da6e5a3d2f11e05ec752d7afaba6a9d52b8bce4dcaa23788a59a948f7157b00084940876b17b67c4caf0972081e0710c0a62a97234f8385561ee2df403d3f6537ec6f99bba9e74c50e51b88b72b9026d52f4e5fa0373dc487673622e90793b1ed2d427898f949913f380ab87e0193f1fa98d79428982aa55345f493dc520ee2b2088440a3d73f6a434f896470c6d90fa42a377f362557e21d55905fbce73ee2fe09e2b4a70ee2be2b9e3d6b6f69660e9827bb50e48a720677558e2ff7b1a2edba64d1e7d71e7db36241b5c60ba88d2fb25b096274545c1d8d48cb51d5fdbf580762a9dfdc4a81679aad5e333a9262213f192883276688f32c583f7bf13b87ee77efe2c62e25d77ad782d6dea6580933b73a8ecadb65170bc3f430f1c63bce2ac0d19ea49a545040b75070ce94b726f3a117f136afefe1206755cd66ff31846bada5600c556bf840c639be00eb1b7063493caf64c] */