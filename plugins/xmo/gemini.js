/**
 * @author Merrick
 * @name gemini
 * @origin xmo
 * @version 1.0.9
 * @description gemini聊天
 * @team xmo
 * @rule ^(aigeminis|aigeminic|aigeminip)([\s\S]+)$
 * @rule ^(aigeminis|aigeminic)$
 * @admin fasle
 * @public true
 * @priority 9999
 * @classification ["插件"]
 * @disable false
 * @systemVersion >=:3.0.0
 * @authentication true
 */

/*
使用方法：打开https://ai.google.dev/ 获取API key并填入配置界面（获取方法请自行搜索）

命令说明：aigeminis是单问答模式，aigeminic是聊天模式，aigeminip是识图模式（目前只能识别图片链接）
         命令+内容就可以触发，有人行的可以直接回复命令。

如后台提示"User location is not supported for the API use"，请尝试调整梯子

v1.0.1 优化代码，增加单问答模式，修改触发命令，界面增加Max Tokens选项
v1.0.0 基于sumuen大佬的插件修改，本人仅修复bug和适配2.0界面
v1.0.2 适配3.0
*/

/** Code Encryption Block[be188605b2af9d5e9f0e7db22a9634fc7b2de4c4d59355590ba25432c57e71fb606409a9061e9a631c4d45d21ee06bcb1479982b43151bd7a7a4f93840eac37eb1befdf3e99382c7ef0612e25d73a7d9b84635fe12c26a4584fcf70760eb303e02dc3f91daa57e3520b6f6bedb6126518afad2162cddf21dac3b9c0d60f3b2dbe31fa0b246ce9aec2b678aab35546c73dcb882300b845aeae8676a25332f67644f5cfdb9a20a502e272fd5775d423b90b7b1d63558b9e7b69ae9a385e2c48d5a7162642a0f917b8f42ec11a3343ead0b47f96c7647ff16fe9aae4f1bb93651980b30e7460457dc98f386df6857c3f59c39827f06687ff305a6893cdc8763f2e57e42b29ca05b948c1433d16390c7e936ebb022b93e214440c8475d1f32317d091c5ad4f1d8667d95440eae12a825b9537b7d61864d125291dbea6f075e3d63d3d96a1ad3d55eba1f70859980656b43d617418448d334c509a64c65dccdb2f1bd4de13b6b88b47df3d7eacdc5170ee99c3f5bc09d70d1c5d10c4c32eb6db9b699823cb0b2cc4ddc3eb2fd8473a740b5acaab62d9f2d20b0f5497f2bd2b08452d233a46fff1ed5035ac42acabb4fd6aaec7c61531d1321c86490c7c29eee08802c026ebe75b64d3ee856edcbeeab8d20610beb6cea6648f240d43c4723e6209484486bab71459f655a4705a16721e5009b508828794f147a85fa751d831fcdf35e7ae3c29d24481039414ca4367f7a1b38d6585185867c1efbbbee6b569d1a27d30db4304b42c8994c9eaca8b7f5a27c8d46708312f8eff165fa7f3f1037e5ef4336236cafe292ea78fb30ed1871f95f1fe0fe4bdf16661b45ae35387193f409ba17f4f3811291618d9ebc5f70664ed15d3208db1df08a54a4fdd49dde89206aa57f799d58afaaad635b079c3cb8835254b84b90c4226b54ea814c1064c65199659de44af933d5d0c76ae30045ccd9539ab56dc9089556e09c1d088533e1f40ae86b758a28bf050c06d5b7dacc978638a49d0b939b85613483edf6bccd6a11885cf2563b3907a276579b1d0ed23dc77987b10db8137bdbadbcf4494a419c419f14c6ff40278f10675457769de29fb9064198e3c84e5bec7c15f528015794bb0b1c1991e62b2af228217b1d1119712676cead2c76f001c62656ef2fb36e18e0ecea348688b099e2d1bf3d54d814263915b85ddc4d9557b31c52f0464eaa06c5e52f9d9c94c8bf8393f4130a82fec6a39845287dad783909926220cd16c140cd4763097109d194257240154e1d1299893b4faab9f56883e80ec64e77f6cc3c14c2e8a7ec8eb84f449e9ded037278b7cbf928e7c406d78d2dc72df128b6c2988be02ccbe6a01f3035f4f0ca02fc531a60596a2f0a134ee9b433e161d3c44ab2555ca285d80478eae5e2e5ca31d4612540db5bf3aa95e783060738fdd2ccb60987fc5d1df955ebd7d4ddc3c5eec5522f0fc596e579bff86418b1dbef770466d52a9b2e63d0d2c59d95ed89bff577efcee32029d6f0435e183790b5a012c871247f39f3d441dd1412bf733128c36fa93b158aa21316f5b3464920efcc7c271b9091eb3fc2bc852019a3929e5849491a06201a963d3f405642743f33e77592911ab705021c2cc8b95119a52c418ae6ba4b2b256c558ad30e30461541b7eae75946e9de1181ea75de303f4366950bdd957a08f1b1f0395116be4e4f18796fda4dfb3bafaf946b0ec5629272cbb79ef0d063d8aedaad09cca68735687626036dbdd7e97fe0e26ff644160413b5b46a6d272ce4a85d9ad4e993ec3daccc154c8a095f9e8f03662cd842d0ef0dab66d2ddb86e8683d009238c7c37c0b726ed65690cf08075eb48bb78fb5808faa7cde8a97c195b7ff1fa2c3f01743a7aa71cd960b6169a602fce4cec03b3ec785a100287227b5d11a468bef3c15e9ee20929dd3658a5af364fe1ef88a91ef395f94cdfd96f0db0e5cd9f977043528d5e84059ec42fd1c7a82c2759f04acc3821de14dad3ce16f13c6ac8d513c6dd3fb2c183eb8f4078bf566996d10f1316bdd2b82f07d2d4384954ba8d3f2102ba55af14508afda49380cfff89f90887af1ca94394b2929bb96e11565ef1a5af10e9fb53c8f68e4f715cb9d0347ef75fc12385cde3de365f4f673db85524909d6a399f1a9666ca8ce9f8babad9a599f95fa5caef42518e5fe3b04837caacf0e65c212ed8df6d57095cca0810deadfea68d5eb95fc579cf231fa8bfd3da93941cf180c6713f99897901490766985c9f8e3dba425bef0cbccb77111d18154b9331c40229b36505f5ea772ae82c9a5872be3974cf6376cba4e9ad600e15747f5097660d735f37c2028d21fac38e19498c005ba40c053e902b622d9edca7e378573163995af353c8b25a5d19275772a6e2ea69ec12ac5fec138e72f277cd5998df8b1d61bd403a393dbeab9798a5fe34a479ada8048c0fc2f7a5e50c8e317905349ce279dffef4ed108b049236ea36bb5bd506c2cb4690062d6d0a738bdc2942a5835b3a0b8c5bfae8068b0ab149ce4980de4185f6f903fe54a49d587ba2e580800a8816f015c2bd6b3eaa0279492cbd3cf5974d923df9c5fa3e86986db170f1ee248d0aa71d4b4f5f6b1df1fbd215f877b7bdb24e9f0a37e9966696b14841d3717fcc01b178490d0b449f84def496645587af8e1f8c4a8467c8a98cc38e9b2944e174434b5449ac5572597b7d4454883421835f8bdf4b7393b8cab79fd48dc2af090f3d8f22263db4fcf7b3ca417ef1e616231fb4fe3f66497360ee2664708850e4f819ddf14b1a385ddd630125920a94bc3fbc8c9b41d817233981e54fa513ccc324ca0ce10cfdccdbd93f97dba786e3b776b43268a2989d0af15d84cf4e8d0c2d91308887d6d73e5d55eb67d5dedb3edaea96365940ba6b73a8a95cf4f597d4fb5f2c866ea8e359317ec12a10be1856423dd834d5f287d31da3acc939272530aaf0c88f94d3fd792b4e125c61d27ab337318a3ca33773ac67cd811aec548a2f35286290ad9496038e30afd83604557f44c0d9562c8969187923931ae0877d720ffb907c99b7281c416f51955389963be06c4bd0ad9be96c67ce2e56a21f61ca3b237cc4b156b0303fed97b9426689396065af1e49d341cfa413e4bf8ebdc9e175eabd3d51caab2c6d53a77a2db39941aa71dd116dbb09aea7b899c6ac5fbf00a409c2f1305d612bef3fcdf265664a65902c5c6fd47563ed316fb5048b2f0c0fc338a569395caf24fab75a412eec0affc035a4dec7e57a5a0da9e1d7687063ccf1a5e183084d27ccad8f62bf1d7f741a08fe4d40e2f9693698334d5d9a911d884607873065ff89ebfdd40211c1523724a6d59a80d032ade10c231081bcce82c5321619ea3a3903256417f13260478d146d109ee30d851913867cb5edaa55d31ae7eccc84e60c150335750bf84037cb097a989fad62ea3329c3e3345c3e7baf2a8b8980ef5000b944d5a4ee050aabe30396c904fcd40bd7d524755f37102da14f707ee1a0401b7f23f1b3867d2abd88c99d6fa7e45011cd668cc130463527a95a3f27c12ef2d0e5e058d8ab16fef7efaa0ffee9ea6ac829a6b5bdd6ff702403b66e5766c9f3589b4e4e53972ac7f0ea7e64644b91997f73d29b9ec02df950ebfee2ee77fbfef31191432faf056cdf10448816ac6bb356946a6c5cbb6ea27cedacee3d034d2a157008b899272d4fc45dc79dd8608d8207903672747f9226117d4ec60f79efcbe81b738421c38d53cbdbf9b3506868fc832f047edaff88b4918ebde938e859873d94203ff80265091e1f5f03cb9a969e1ab4f0ac6222c3abb0983859c7c8f6f9477e8fe32ec4ed3a86e6bcadfb7dcfe1c63b4a3e32406e4df8b00dadc90b6711170d832bdf856ef8e27c8ebd5b14ceee137a104a5912c23a1c7f63eea1fe98fb132891ff958d3922cdf0db2eae4a426d86420bb94c8ba77eb09f7e7e1fb737d040e85aa995658a61ea8c381cedede6dca698424d61abd37267c9b361c0c66a81014c96746f7d2abeb22abaf30099fdf531209d3feca47fcbe45eb6d919eba928cc927570eec0d815276887098b6b389a231e92900c0228a485cfbafc7e513bce67137cc2ebd82bbd8df05eb98b9f7083e859644c443d7fd17e727106eeba286b55d54a1fea677a3e7476893ee436b517c1d88852c6c5ca295ae7585fed2281974c2e2ded5b44ec3e2c9e5aa5da3dc6f31ecf1cdf4057ffc4c4d28cfac32cd89aca39eb7dbcef016fb697adf8d93f7f0ba1080f746e1d7c89e433b1b50a548f4ccb0313a5abf4725ae7a95898d862a10e3e6e508db2a41934e6261c31a0fff158f543404f30148482b90c9f482d5ce40866866dafad10c1f6dba4044bfcdbd71781e3dc0ccb5cd1b49b4e31d94e38a0f850a3071011c5acee12572d50951ae6770806c4a582b8fdd01fd9bce02bcbee7f5cba54dd631642fe64504f6202a72eca15aedeccadba00b0e583d595432b0e58db3409bd51362c094f7b5cdb7e53f3f181f528f0bd9d3c430ab6f0c0cfb32a68d51b5b3e2f05e71e76367f765b299c78b5f819f6cacc7e31b3a3a6d2c0d57b104dd6bbf6fd2b022ffce687c14afb25f64e64ee44f90c82c5552a3e335a523269e465a863b556d26e632418391828f2f7db4062458eb5b0c8bd24c2d3705148667991aefaa77dc7444d39cd3018e7f2d9150ebdb3103beac66477a148cfbb58bd6501bfb0a35f2c0821efdfeb678e6bebb3a5dd5eea65a28aa00e71d689b6ac30a2babdd32df99542a926713538246573b9c4ea9432bb174e2e8c5121dd3ce4b643a99d03f6b70ef5aa4f5394b9fb291321adaa03bc287f3bed0e929c88f4e4931e5d872f439eb1097af54b7a13d4d140eb022b1fb19f5f04ec61ac048c3c3d08a224066a51e8919e112b391d1004e03bc647ebda2af1c89640124880908f86218325bc9f94a13fdf31e30327c5c9e248065a1eedfcb4979842a7d79aa33cf988d1e4c7787705bf8617d8c48279db6b6b9a86b1c7150278e8f582831395d7d806aa81ffb7beb1667df8f6eb406868d3e1ec3eb341dc02b715ae528c007b438e0c6496a46537fa509b23cd519c228a6f03b78307fb4ea4c6ef13a69de8c9c44671698f48bcc8fa7d3102e2e4a28730448be0281e40312ee73cc5e76ad6fccaba11f05c5139eab79ac55e1f1b121aa010485e95806cabf39db753421d9bdabd27ac5353b6f48f35a7d9ef4546ee7eabbb3d5a4f1586b14002c76523f3ce1b46bf126cc4943ad8618b5898d98e855598c4f6713bb5fbe56ee74d0064a353d01ca0c12345548dc3f14b865bd19911bd3fd9e1d4ba9a4b4babd0208490238393ae8291b4101916f910de887f97126ffc5fca1106d33ad3f0558d5e27881b5d371788d18c3883a21658724c58c7545404f1aa201fec5dde666968558961ceb44bdff30eae8907d6a2a085ba771d39d2df96edf76c3e6f784c40cb2b3b21fe5a4a3d28b88e4f33ea474672b3dfeaef927f94c53ab8677cc2feff412619a4fe98500ffd7724ac27ac3380855711782f039c1e72477b9eac0180b6c177da17583e9c4a51580cc9ff31185a90263abf2eac21c385b42e5f7a017473a41170c9c9b582c8e58c6a4153edc776bb208586c7d9059704c7c64c3838318e4de2d73bdc75c8875a6d13cbc8a9b9923638995a00aa0ec1e24e354aa96e4684936bbaab4ff7f0d0a650c8f4556e41ac9c0bd9c41dae090e8d8f10ad20ffa23c9897b09f990d4dd1c0e98359e38bc7705ac05e02f1fae8570e092d74b85a64ec856d69b66a806739c4c0b9baa8356f9640a6aaaa90c3ed65a63e35875f7eefe386f0955649bfe89b3b815c0f3891111300f4a044012200996031ea555a6b6b000e93c3869e2411563f722274a0a9e8c370069de69a4be53f9789729110d8e155d9bdd1b587c118ac30406679c04b6395a56c2b11a644179a95d97f95ee3a36734fe1988c3faa1a5a5b0701ddc2104bdfa34730a7386714edd588e2bc93a3823d12ec4464cdc9f0a7515f945330ea865efd1d6401e7cf3aeb52533646bf93c0429a0cc41e2e6f8e34b5236e711d4b687555568a2b3ff7c48be0e7974b2ffdf7b7903faea993a5e72de0933793157016b8bd24ae754918736c10d4d2756625455751466d7be246687fb6cd17a98121cc0f86317ef352c0ab07635e7044ff77b9dce3f27eaae24ef59e635d31d7fc728568b1556417d4f2208be5bca51b99941a21ce53e85273a816a5965462b327cb46ec33a1caa6e25851e418aa1f7d2863c42d3edccdbf959a5dff18f370351c55a20ef8146cc9ebc1b3ae3ef9a3943d55dbcd8a4cf57c009c617b4dd35bd9fd7802d06f8f1e717a2b911ace2cf97fce8811664ad4d20e8eff0523c3bbfb50aa681b10bb6e3b2a55b2936f1f5775828a7c34b37346392cb91beea2082801eff487fa42ff90a48932c84b4643709bc589af722b492c261113eb2b6fc17a11364d62b39f8fbf32e3ff13fd80ad60647bd8e20151135c9c14236ec03a12d9c3f9a32cb15194e34cc06abc1cd40e23b161c6e9016db27aed99938791096e36a29862d9bb289d3fd3c940111ca64e2031ac72312bfd8d665d1be757830877da902b3f5da985263f0356a35348bc02033e33187f083d517ac6714cbf267dbba825bb06aed84679dfb937dbc64081c25bd84eb471500752d3e0924b3ea2917dd2c6c6640a51b3127a1e72888799b2833ce4537beb04d1eda3fdd1b409049f44c024b3c97c6de3e5d8c93afc761a9824b048e823060b6c925b5fd4c66342201fe5ab9fc68b0d583ba57ce8a7fdaf30082cb3a11268a5ded2048fb0090534c5ee467e9ad6449e4a983f08a9b9543bd4c0ab8c672817f283253f4dc26489a9e3565a0ae041f732660dc429cc0e331abe1279a54609c25dbaefc5e2ad3878175bdc0e4ef6b62ed39bcfd6af0bb02155de16df0ef4a325e3b0985cc906d591088cea5816ce948255c7a1b6fec49e2357fac665c9ced19c19588bda515b4a808eace447868e5b752856f7e8f8b5c3fae301cdfea7c8fefe1ae02f830699aa71d24af5066c4664e90ce3197a17c3f8c7931d2b23a23c8b463d68d8207a41f415314a1fce23c707e30bfb795a037dd63c9824cd3ecc98a5332b5b2a4c4c791e14f36333396f919da6b3e0b4b558c8dbe9232468c68e45a985304926a58df1a29d0fb7d8dc6fa4542b98b4cdb35f84b25190cba4335a97a7fab52a571a2209d2217fd1957e681bfbe707c980aa8de4a474ee2adb098da25d6531ab685b525965c795816a839c1776776095967c2122b49131b6440157685e8eefc23480f18b0517970cc70249f79f7a55184511118110b8c0f8349db7a2fe9d01e719c7f499e1a5a49bc681163f93c61dfbfcb8201015d40e56f25090e778906aadf805127881d55b389015595dec23c394fdd0c6f1a88b84873f7f573771f50d79af5df2a13c2e8167643c3e83cf8e127110a5bdbca9000a160d2c9c4e99f2e1c5fd53008fd24e28d18931f3e975e5a2bf870dc688085f104c5ab96708f4ffd0dc2d6819f7c5016a1e75f6146ed4c6ca068d5d97e871b4595ac7ab625a5e4ab26416533179caa8ca46afe301e2fe159d8976e706acb7049b0114212e34d843a79aaf5050aef9148661859f45f83deb67f6b9dc6559032272cace946c1a0583ec944a0886efff762925d897fd4c55e1149e1b138acae310d580d0e8f12abb0ac6cbc7fdd7627ca28178d1565cb75e1c5a13fc6101e24b94dada6a83f9b058664b107b87370efe7ee92216dfe94009ba94b4c55b24b6603e86d51dabf5c97fca22eb739c52c64e2df9452e054253f9ab0b45ad483a4fc8478a2c315a9dda54d2597736a8635fee9bde311a211932abfe4df990310f6d848b1aa0ab874d226344115e7a3ea7c7df21d00a936cf30898a8f7d3a73aa2383b948a5025fa79d6306a35be3e51beb0910064073534c903af2b5b58220f72951f868523a31327303968bc6cdbb3cf4d298582b5be27037385745c726e3b7b8aa0f8b57445ea435129badaadeaa4b74357a893f539f6a4c9e4229a2362fd1564f2ead951eb8cb5433db54701155ba7b3325b4625819b8fed2ec310698dac0ddd7f83782f819d9722304b7c900c13892710bf5fbbad3bb4a11627a2f2086585a8beb7f21e4bcdd810d55b09f4a1b448855e15fc3cc9892c45f20105d458c130405cb803f96515f647856b6977be7f] */