/**
 * @author Merrick
 * @name gemini
 * @origin xmo
 * @version 1.0.5
 * @description gemini聊天
 * @team xmo
 * @rule ^(aigeminis|aigeminic|aigeminip)([\s\S]+)$
 * @admin fasle
 * @public true
 * @priority 9999
 * @classification ["插件"]
 * @disable false
 * @systemVersion >=:3.0.0
 * @authentication true
 */

/*
使用方法：打开https://ai.google.dev/ 获取API key并填入配置界面（获取方法请自行搜索）

命令说明：aigeminis是单问答模式，aigeminic是聊天模式，aigeminip是识图模式（目前只能识别图片链接）
         命令+内容就可以触发，有人行的可以直接回复命令。

如后台提示"User location is not supported for the API use"，请尝试调整梯子

v1.0.1 优化代码，增加单问答模式，修改触发命令，界面增加Max Tokens选项
v1.0.0 基于sumuen大佬的插件修改，本人仅修复bug和适配2.0界面
v1.0.2 适配3.0
*/

/** Code Encryption Block[be188605b2af9d5e9f0e7db22a9634fc371b397d02bd0850c5c0c2298f94e73f5b1fc3c963a629f06dba9f13807e40a033536676388c4fbb05232dd23304f3b84ad008a3836b07981fe5bace61f9d6f8603c8bedd6b7d0932b360dd4196c40ed4f66f70216770ef8489278dec925d2ae54699d7c888ab62f68d4b16ac3f9661ca881315be0b7e5b3bed0c2436bd693eaa59904a65d49928d1fddbc937f00b0d4c5f574a65d83f26b8edcf4b4612a0580a6562be112f4e7e97753edb2061fea3d8c50d5e243eb6b42e760216bb93970ef61fa4ce7ac064cc244b0b10caaa1027fddec2b6ee3a306c7571b3466aea296872a8c7af218f8dbf3cdf13cb18b82834670ff733ba238963cec4f1e3d1ccc88145a85d1ae0f72b5040fcf2be3912c4da5f89bc69669c57e925b2e574f766517b08c8ab5a2e2d3eb11167e1772209df17dbd3a01360f29eccec4e7302bee8eecbd087b58b81401cd3d2de2ff06af5fd5cbfe707bed480f133a9971220101d09b43d5b1b3298810465bb31ea9292a85e1e69ecb1626196f491551e5113972edd2ba1b0ee4cafa9d9d6f2f2eb498a861a83056e66a8185491cd6b8359fc9a213569d7bdba9094fcebe93b4821a59acd410018c3d3bb4b2e1fca43dff322771c2d5bace58e55075d7cfcfe0ee0505cfea5463f9fe401f8d0fd117be1a100760f979f2f19e39f31f35ee2c4e86e7814d8b872cf42a48082d8635f4fbe1ff21a68446931374510b97bdad62bcf6723bcd9c07142e661e432c667c2d37d9bbee2de4768b1692dc0c33d99028a9182b291a8749607b7dbfa198c6ea8c25e81aa232310600395bed246713ecf49cc1015363090aaf76e330012331f7f60dcaca6c5f9858b3788e606df8817b8e2870190c62ec1e7d055b06e24d721360950c25bee1aef92030e9ccdfeda4eedbd309d00a3fb29910dae55a7892c733ba20faad77f7f8cfbf50d0fe845ece929b547afc1d0713653c09c9f6c3b38dec123a925d1112eaa9b28ec39a2d9b34d5e194c63c5466e2050ed7f0ea21d8bd8329954106829695be000c7ede3c280b965a3af1f91ab7e36f15f0fee7365b7796d3a702f2757a454ee43dee63d1f68ec372538a3a88909b5b74307eff6369a90902c926611b06de7cc9c574033e6e0a0f67b1cee1de232d27e2cd4cc4a0e1fdd01488fa5dd392aa89c5a800db2d9d1c63bf26f3ad78978bf75727c7c561182e9cb362e8c8ce6bf231b1a6ae91d77c93e0019ced670e951124371c15790fc66f8cbb2c5ab33359096e9328a443328f221f90ffaf5b504ecd85a1327b32aeb8c83551e39a358b061ad2630258a814d31030e026cea3882ff947eb1d9e43376775499c2cc775e746794456b5acf149b1488161165755494d2356cfb1ad98e3118d761eadfa483d3c3088293212fe8ecb62b16c9a39d1e4a8a8f69d6ff5acda12a4c01cc90ede644911bfbfa0803a6a65c2d2dadedf7fc8bc31c236987399442032e2bf0ea74b4cbbf643a2daabfebbc8582e2e284a0dce634d039268cdde0d5c48d6094bac1007cb319d6ba8e3ed5afc3b7f25001e25936a9d8b83d53e80d7a39fa0ae01cc30c93389a6c5cf8fb573b449bde9e8c419aebc5b8c48284628c513affa48ffb2b8cf76fbaa273a0cb8fe5148db788973bdf87b4cf5da28da181c36d6784e5c520f8388e3736d9d5a3845022ca5648bb1e4e85af04fb275f09bb18c025be28d1061498f0108ba462655e6e1ddf2472bb22731dbcb2803a070d40ba5643c93bf47ec58c8d27a7e83ea3afdd17e8f1a740b0237e8108acd17a311d9833f6b612c2fe7f80bd76287c050d2acc92f532cb9cba1792058e3d24237ea637785b3f8da2046d801b397efee9e5db443efa4a12a650696e47f96a136cbf8442d4eed7b95a51f70bbf1fdebb894d88762a3a42797c160de3027bb16eb1446763c40df852a8285235c9d7affd911d5daa8f7554fabc382ce0b87a3b4de637113f1fc1a45f54688b6c9ea31bb6e399e6cc8ae5db97b0fd6254e1d21d3f0eb998ac33c26d137503087b85efe251ce87cb405ac10a9585326a4fd9a41757de07279d6e8954d7e8b1771641f249cc837553b4c00a6f5d9df3965dad6eceac57476ad67e988d425118ee17e378869a4340bdce699a835060849aad4758a509bd6e96917c07957b3f202a321d3cae29baca7867a18b69e817e89e4370ef689d94d3deb6fbae951160b115124a23b9d11610927f78a95a4ddf6559ab252be859e488fe993cc0ffd17dcb3586d351e71473ef8ef3fa744059b8739694bd81047905be41f1c2dfde656d3a82eb54a8bdf2f08cb50d85994339a31c3946f686f69af4e0e508cf38e4d3561b8fd7cf8093dd63465315eabdac93209af1086a54fe951b39db2ffe8b4cc12eb72848e50fa5b2f474d84daac1ddae0c472841b4c1e2b2bbb87fc0eadb45bb8e4887de03bc669b122e21fc54bab0d568cb81f51a41feb95ecb13ecf434a261c22b3c3abeb723970ecb78833086831e05f32aa345c3942424a7f74daee97573a827c657598dca2944ef9cf34c771169cac275b9ce3554734e2b46375d6fa8631ff644826a294fe8d59d25fda5fafd67abe3ba1d0214f2a09891a47bef17e3dcba4a9414f456c5dca981617fb5b1ca4e5ae0626c8ceaf3567ca6b5505fc80ab6eee20419f84a7c355c0da79d4862217859696a1ea0fe608fa3c5d18f0c4a1b99dc08c9697a7888c0e22db23d68d09ce76e6c6545fedad3591403f8de8e64c51820504bb0a6b86b408ed67f861a54a7180fa1b7af51ff84bddd1a74cb97d1881c415a5f7fc1fc0c91c7c90755e028cc2048e3691547fb30b0bfcd650fc26c722e15687aea50107fd3531f0ee26ada8e4c01e0c25cc60b5e6fc38b8dec9c17b5fabd86e83a6e9969d549cb14468e83815ff253e0754d2516312e1be6b786c964ce7a45fa4b894a78292a8348108ef42047687dba75dc6fe1ae86eff8418f65dcb8ef7e57a00b3960c0ccf880b3dd89dbd9969c277700f69391879bd8413aad52d69819521581b2cc7da60bda7db8305c0937f6693a3170bb6421961992b280c5b2ca7bc356bab356243438a84bdec2e88ec12eb9ba9c53bd2c5583e5e9b4fb0d5c7bef0cf867210981c74d6b8f1f4cd711f4001ecfaa95f5aa0a59cbb5c6ce1e7b5233ea4872652e305a4fa6aea436e75ac84f8d36e44ddb73948fc7c2f3cac4e9c75b0d46793a1cdd1c4bbc4574d979a0551528e2a6da74621bc8e4e3c358bb64eb7aab149061f05294b0a535c375c88ce83d81cee8aa26ae4254e171b1b1bfa1415348eda991d838e0ea4cf607df86a92d2970cadadfdffa2c40a7d9db38410a8dc0aeac6426ceae4ad5040983d01ef59294eb3e9d16197469abcc94255664da7e9bf0c70c3a8ded5abe814b9745dd0290b0ee7c84b5e1c4b5c0ed1ddcf1a74c2de0269116600947ad821ff6aefd031c369bb6227933e1c9210cd7593d8265b74816724b50f096d6b14a49c326a8d61f00b29955201187fd571067c99b2d560e5d8a4e249bd2f126ff30d2d01148a2ad9dc4735c42874168c022001b793b5e71031d7c2c8a72af0e71f2c18b1e122f64bac1948a51d2b3d2cce71d0fa0cc5944b3f8538398625301927545420aa13d0dfc461cf4f0510bbb1db8270784885a2f849c0f6279f7d2860ad0a07c0715cca4ed81247744f583e54874b4df099a955cac2aabbfe3836dbda94cd8e40311c1354bd77e219c4010dad179411c5ef27f0ba7b2baa8d07eb5a5f25dc63e6a177c8131689ecd8754a0d8e683ea3e6a3d3a6de58a533d60fc7524e98f6651facce252f502011f45cb4e5aa9fa1f12b7d981cfc4fc1335005e1201785bab01ec9f74e7fc83476aeb6041e9f56107677155b7964eae682351f3867bb2a1ceb59e26b5e0e313a0109dfc5c08f1ada09a937bad237ee5d741f4ae86823bc0d73fedf422257f9792fe360e34c2eb209ce6d992405368bdcf10bb16a12a3d1b14c15d15c8c3867923c62e05bf30fd2d33c1887adf8353907da8ea79e80c273d367ff7769a5f27b29aba57f0602fefab1ccbb1992294bd539f971f8e408891a96e222d8f968f48821280a557e572b2dd4c2790d64595b585993d4b4809af886ae7b75f5365e3796ab66d2b7c3498184ecec7409400bcf8e8dcd93dff0df5fb9533ee20deba4aad0edc61f4942f310a36db58a9f4c4c53ff98d966adbdfeaa6a0a9924c74546aaf95ba3a5e4e00424c1fe645c7275cf16c91cd6d11537e6dbb3920b846aa075b488898e926c8902e8ba7aa90b006bb497675852ba038df73f9e30f0da383998f206d33fa98531ff3a879f9994bcbcdc9d5b43b8af1191698843512fc8789aa4b92fb7d61af66ce27bfa714b9d7e581dd6647fb66ad99e859d50dd82d68ddbb3cfdcc090606d354a1795762df215b945ef5f1a4aefe797f320738b18b3c061f684f92ce5bd3683c7c7a01424b94dc028ee4f66f2d3bc4214eee04334fd33267182c39d7af0d15075f844764a317a922d91917f0951496fadafc88f3cd2fb0c91e5f2f93e424ca009c864fbbf8eb7c8e00951eb873267835ad046e0a15494efe25ffa6d1e1988f1e2973dd3c50fc3ef5211944805837eedfd0087448ce428ad692aa9c41efc5149c2709ba0953fd882681792bb503f99402f7423c5029b1960a974a646aeb41d48ebc287eb56b005807e38dec101ba026f8e90b7b99008c8b3add912bee810e44116811f7c9257e19df5213c7b46a3901917cf0a9b3a7d58f3e90c5f6b43cf1bed7eec1722b333a27fcbb6a385beb0c7c6e5967f61e0efac38b0358cce310e427486ebfbcebd9e445ad7a3b05b396325732fde681364530feff9ca682c8fc25a7b7981959ca89ed69bbdac13bf39de5a0bf3ecf78a2b5d1eece22332b98b1a4123a10aa57ce6c66f0620d0025057d61bd9b2d39691e95e0d1b88e787fcc08dbd59bcd6e78b298666e4df2f605f63f91e96e2d24af86804bafdabc429621642d2d481615a79bcebf82187714650acf75bcd6cd52017c1d06634361c23977b41d7590be995b71a34b8ed577d96a614202e5054fc799f49199c2be1d7724a06d4924e84d85aae9bdd058ccf2bfc1494990fcd3954a7a96d762472656fc68ef0203ef55539bb39dc1996a43edec2d6042993028f966de67b46190e5ed2ac5e48578c9b66053fd2da784fc56bb940400c9765d3d49ab632f620caaef0b917a5fed6e875eda50415e6af775e7c8ae9efcb0a1dd4b6a40d6881d364974763f4ff469b4cff8a678ae9d4f2cc87822fe239552c31bfd3f7663606f7a60a8e8b124b140738c29c2e98db9e14cec34f4ebc55d130f53646bee33bf4d3380472a61a7d6f8f0e5b58c57f31fbd5d5c7218aa644c82a9bd10414163143a9267c873724a19bb8118011e7b9b89521ad91188bf95b7de8bb1201745c63239e17ac2390198018da92c52c9fd7f8771598938c203f1af95528168366a1a70c8c12a24c446b9fee43b913c9966c6448eb7e476282502fb1446459df788e99177d7485a0b92dfc497c8adef9fdc53f6efabcf422cfa1b52c64bcd339245dfa48ed18094c704e2a738d0eed5fba02d6be889b2d25fa56535eb40395ae48d2e14bd871a3bc6b74a67fdff4628afda3fb808f94bec710846b5868a0caecb31439347b454acc3238feae1ef65eb2e870c28f1d032cc98b0a9ad4d2db4470a193cac694ca70dc214a87a2b6fd74e1cf49c6d1a6687e734a3038ddfed6675e9b43cb189d15daeae6fe0dc63af003e41249aaadcbc8aad03824b5985c8cca5b14dd266c39bbf5cb315ca8309d64deffdb0203fbce398d83e9ae4db922bbbeb5b51ee69bfceaf5365d41561b78c249b42afcef02636907784f1e1f9659bdf3ef1e191fd7aa53af6524b7943df80441e6a485d11a501d26b8895ba761035671e8f3e7a55f7291a5a4a1b6c1683e280d1dd3f031ce1c2f57da1407bcab194a9ddd0e8951212b2a38a54b9a24e7ffe4510da7e11b4c5e64dc9fe866e20fba9bc111964341e65529c70b8b0e4465866717e1de48a0bf4478ec09ee364b68fcc3956676572cfac414514862eba8af87f8e83e594a996194deb4af3c4a73f051cacc3355f036bb1656e6644c62ad0871f837b6c43bf3de048a9138db69f8a2837bf8bf574874ca468b8f95ae2f91b649b78707db69efad79b3555f9ac8b1fbd9ee66fd0fa72b8195f3aeeb2b51cbb4276a86dbb48190396c832ab809859a206cba378b68a76a017f074df76fb8cc1a4faa5d15b2a8790e1588b1176a7227dd2374639a6911453f116f0598828f7f805998c0d67be8f295d534bdcdae843c93a8c76b9b2b47b3f0b2e93a306993efe653bcf822e0f3a6d337624c249335e3bb9f91c5980e001ffebd020de7a116a4f150dffca9964b3566206e99e48c66ddeb419c9ef1693e0fc8321f963acd297f9a1f76c918b921abb718bb1abd8ccaf44b119c11752903df91cb4020e743c82dc7906bafb171b84166aabab35bb3c25a5a97f24065ba3974e8e3421eb0fd20b9e0b7d05b3f5b516898d4e305f3924ea3be19b06f6609f339173cda544328bb7b09a605f1ff8e660103817c7979a787810d227e2e09fd8808313ffed98aadcb5173fe34bb10df7801d969644e763b2676f1210e2c320a2f50d09adbda26741229f1fa8bf2bf4bcc68673e1346b1ee7ffe71323ed110665daf34506a70360566f064193241202397c7f949974b7800fe8dd1741fecc21b6ea7d28974cce97c7c5305dd6054de8d861681a224aadcae26d32f5a733d83e174e7619d93e071c4abfc535785d3ad7c92dd5c0141fca46c449cf7ecff914f04f60bd3e27344e8550410698a78f6c1925b84c9f3b4d59e1bd9b5e53431b12043df09c200ae3f1e23ebd6c55d9967ace4f7a9fa5f3fec9b6ab5417eba0875dcc2429dd4d56b37d03f327f5956df78234d8a376c9b76cfdcc82289a4d8adfdd2073c4beedffc75fe93ae07dbe8a64b65b984d6936626d05ea2568d440a25665f519b1670ace9c0b368a9e622aaf9b0034151cab03833eea94aa5352e7d823a33c540732bbd8a6c8adb9c79fdc016b556febd6c56dfb25b73bdd3ca99c9de41fd7f8c4d7f4cd89b049ac52b3cd78a90a05f45cd6ad224d17c5805451ddb6b1d2f41da65747fc66bb309441b5d72292a201cd8c0cfc9f8f725fbe3287097872f51cbd5be891fd0256e7c1acae8978953e042cd9a064b6906d9e038317b740381e7b03077c1aceff657622f46a1edceca402bf2e1fb450178d4e85b2d6d593db34df7c662fc5250d6c91f2d85e668b00e471ab30e63d902c0cf4d33bdf108dd1e5a672e58e30d5defb9f6dbf39852f003b57072d876887cdb2072ad6985d2f1e5a842f09b7d94b8847133c192e07e44d5cdac2c051d7868b7250c5f44046a2c66299cb76104dda92a54f6bbd221787ed49ec7064a00134bf31fe5641a003232fb13d200628fa2c2f27705772f98b8f76d86] */