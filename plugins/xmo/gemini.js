/**
 * @author Merrick
 * @name gemini
 * @origin xmo
 * @version 1.0.7
 * @description gemini聊天
 * @team xmo
 * @rule ^(aigeminis|aigeminic|aigeminip)([\s\S]+)$
 * @admin fasle
 * @public true
 * @priority 9999
 * @classification ["插件"]
 * @disable false
 * @systemVersion >=:3.0.0
 * @authentication true
 */

/*
使用方法：打开https://ai.google.dev/ 获取API key并填入配置界面（获取方法请自行搜索）

命令说明：aigeminis是单问答模式，aigeminic是聊天模式，aigeminip是识图模式（目前只能识别图片链接）
         命令+内容就可以触发，有人行的可以直接回复命令。

如后台提示"User location is not supported for the API use"，请尝试调整梯子

v1.0.1 优化代码，增加单问答模式，修改触发命令，界面增加Max Tokens选项
v1.0.0 基于sumuen大佬的插件修改，本人仅修复bug和适配2.0界面
v1.0.2 适配3.0
*/

/** Code Encryption Block[be188605b2af9d5e9f0e7db22a9634fc371b397d02bd0850c5c0c2298f94e73f5b1fc3c963a629f06dba9f13807e40a033536676388c4fbb05232dd23304f3b8ca6c2d6e44cd5f4248d9a412e3955780d69bc24d8d0e80cfa0b86e44a15a3bfec5ae01e2de44edd6918309c1ce9ab902ead14f070b04615f9f5326dbcf04a26db6b09ddfb5f7bc7f1a9146c4b7f4cf2c053f31ee465ebe94a3bc9d8b27a967936a057ecc38c62ad6d7a87e603377f4d9b938c9ad7c472d38e12fca0309421e90bc27da9c0836d9959103ac0029c5da2c9551c503522c4fae68696b80133be972ef81c015f820e8bfb185dc62d9326f2d21307406b5a0b9e460b77be3c034c7cf0dbc8ed26d3f957a7e5c72e1b9d8e5fe2e85d6c30ff1fc899516c841f8288c0e9265b0012ac439d46774e198e879baaf8ca80943e68949f978c414f518deb2bf79a0d53ad0fad34b08ca5bea03ad01bbbe7a1e797e52e1acb290d266e5d4deed537c955a411519f6219df8f9848e35311fa1f24ebb5a1e7807a9e34f796ef11d8127db1fa9b18be16e1bb096f904e2132db2d9e4a7757e15ab38c305169718c89d5e18af984ed7e7b13e5953f6f85b957aefddb15803e18117de29be2d33c19e19c38aa5d7bded926c9069dd98c9e367f0b61f3670f96fc6d1a7fa736771d4a1980f0661dfcce50eefcf09ea0b03634bfc9ca3d909f9626085f4df8248423bc7732b337f544c95ca379cf3e900c403ddeb8d1758795db8601de7f41daa9d390403f39ecc7a39a312b2684b607cfd9701a40c4f90cb2ab40ba4e7ac7c7e980de10d19bc62deaf3acb5ec0454a586c8dcd2b82ef778b8a3f4c404e6d94554b8711bd6e73275c9e6a7db6fbb6ee9fa5b06271f9a3cf9f190ddc7a202ec21ee31982a284e30e0f6f68823a590e862f84a95d929b54f172bf1f1c8f5a7dedc563865ef80ca5452a861608c6825b10259ccb24272ceb7390fb82a37175432c0b659478eab423d58c0ede4c1bdbb604e1ba7cdf0856930ab746743743cf985d96e4836da5aa905ebac1d881a1051df76b16c73c4711f274ac7e20c53e034d35ef9cf9cfc1e3cf0439be823070b3629fb1c17cc78362c50e7f5c7e042deebd3a15f4304a2a35cf06c7c2cf91eb25de373c50f24c4851942b3a9c76624a4c7332d3003dee2574ad378f0b195174d91351c2d4a4bdc50739d541c8cc8603e25bf7446ac554844beabc624fe4e7205f490c0e528f1394273f94c5d17a66f831007764db5a4157ac14e4db54bf7814a5325c31ffae9f2622c07d912cf7f1e7335584762485f3cabd7e345f846be26853f4f84cf4dbcafa9669460cac7f476fea4dc129c8b1aebe745f8c9fcfe98a50a1740a459fe7fe37117ed67a7baff20e91e9172386fc793f94641a9327d9d82eaf114b87a8ba106d2433d5c7c4a3c1d0a6797c048a20158755d8ec85d3f625e916c59b8838af640ebb1b014b1895280b77068ccf3efab7021220542852d0e89b9ab039df2a72e8a6acaea92ebcd43b4a4c5e4772d1111108321ffb0f1c7513b965a7af9125410c251ec6364d42a4a844d71b934fd7cbe3ca8144b4e2fdb26ec0a525efd4bbed4f6bc502e62ebf87f512d36fe6ac4bab2deef7eb03477ac264218e54531b1dfb1f55df564fa15522e9131a736a1bc4c8c714ffe53c9749f4c343dc76d4482d31db929e2028dfb03248cd9bd9d8cf39810b311c92f1ca4430fa598f86c4f12293e7e63705bfb446e4c3d3d94bb169f06326423fe8e56cb5e18e87c059668b1a8199cd54df4ada3afe3167bf8e1d3b942bc38bd5491e8f73441f38ccf1c54618d317e4c72d77ffb0ead49496a63937a7f24888cda603d59a22c4eb1d3da0a9dfff791de8880a1601fcdf93f24e44a862ec0a27f1f919f78c49a95d87468bb064f53ef3bc660d8712137816c7cf89eb4b328f6e830c6828fdac2ec8c405101b15d2fa3316d1aed72486a93b382085a493e6dfa60c73c1a43af050b9a880b2dcfb438c51445742df6682f4755c7801a58e0541be247c8cded7e5c6168d8c8a9b5ec56d285ceb6166d06cb92618a4aed8c0ea6f01434d7720278c9edd54b7eaa107c18da4f760419de2e908bb92b0387c598d7744e7b915de666a518046ee9a83284021af8fb533abffb2fa572ec3ae71fe7b2d08c7acd2891f0f3b70e31f13869da61d332fdd5cd475af6f29cd3b3e66ef86bbc93ac4643760e8cddfcb9cf902de4107884167792320a0cb75510ddc5882fbb005e127d622742f496d39148a460bac76bccc2a38f50066f2bb44b262ef60f1c0f3560274d7d91084e7b0ee50c186057e52ed565277942d9791cb9bf5840513a3560afd4dc5d58388c1acf102b8b1fd47fd8e794f911be9790008f692fc4cb994ea5ef1b34e6b463105aaa95c524099d1f591b7704f71c675fa0ae4461e48e25c66764dae64bf017e6e08224ca1934277d9619b66fc391415fcfc4c274fd74f67747fc4759a6503dca83d8f1a55bc13909636e6ad2be48e13290db1b440cd1f756e79a651190b2fcb3385e07300b447f346e1ed67634c2b4cda206d48587432e28b5642c0db3d274d92082a9a9c252fdf869a9692d285097708d78e83839fda5461b181046676d342c0f124eff490dbad1d1c2af49e671433dcb6520b7fae60f8a4ff3d944119424392d288ee760c46943241edd8cdaf07e987c6fddf7f1936f1a84a9ae04a404e3ded82869443f9a063b020995c6ba1e406ea772654d282c0fc2fc31b3a167d928e242b7f2b57062861817c3f327ce72016294991782c7ac79ea608db9db5bda7bd92e0bda69376a362f664f5b06c5bd0edd1e7ea5cf66a2e6f2e1f72a7953b9e897bb05b854627708ff4e643c651f28f9181f98c0b413b840c71c3ccf06f9ad0eeab6a5cf0653f31495d70395bcf838a0659ceb8a11051b6ec54d1551da05b51d02cda884ba7a410d7bc666db3be84135df2d9d55c4e081b0af8ae20fc5d6402337ad82b3054880bf3af493d59e395e00396e9f8b8399271fefac246a0d848aa16a26fd7de894a62fe2aca8948f998b42061633f7a12944c5275f7a99915504c23c2c2c630a1b00a21e9c29a274414a75eb963692f8bc0457a66c1c4eea23866217c2d0147aaf6bc078e62101f6ded6f74be75e1465fda3dbe831742e30b9e8e4740334f0cdabadf3e7807e87e9eb3ce33ac790bc09e9dcb53465ed259531de73baca3fc64e14de6bb541bbe43d961e2259fad0d37c64c872b05de029e2f59d44739d55ce0975d13def3783dd598432aa243fd0108ac1b4b59a9391377e940d44499f2f407f3af6f0d1d183dfc7c583e43d14f49e4eee221f835ec7de48efc573dda77d7f02f05c4df8282a4e280766bdabbe1472e484c53f148fa29686dede5fb6bccfb6306be73dc83e8abcca8f5b771893728aae4547cd43d0686e9184627aee7316a8612b868e9ceebbacbe098cdd32c45f90cd49f42456d43d800c0a24784add7383d1a10953e03cd023369afb454aa52dc108ddff4455af6c87287737ae50b8f6ed7be71edc19f7c3e1b8dce07ae95a656fc45d1c15dd549b689d3b953695fc9128ad1ce887fa4f7853180857f01423eeceda84bdd420de5a38940bb1234c09ae8c6cce8f1554ee5b319be265f7e6d345b2fb3e6bcc629f7b0337d053ea1eab205d0049af654bca473b128c6960e7921fa467dcf450eb5ee85ae10e38e5b2ebbff7de10513de7d18a1beb1bb2df76ba5b40445ea99e9bd83b6340183c30cb3d5c07efde15531a74bef238d5c79ee0973a5283adac64abd8094380b1b8836ccd67f8e321f25af88b000402b0ff26918e6f41bc1bc55240ec58d28e1319e51f77c08b600f4420f2e9c332c71344905db1e9614dd10cbe9ad6b6ab5f5bca6811939c7330ca3aaad97f769e4ced4f35a8b3cd50ad69b328e2753501f449eb84bf3dd0292e18b7d6327a4a83ff99fe6a597660eaf7841a50264a5b65b4f2798571f759446ddc147c10f391fe436642bf5609a3cf1ac143fc1c8a078562d9d1d84788d5ee9d5489320674e104b1057f9149d2302ed4f52f00249fa52b3f8216ecd18ab0dbb3fb8abe77b767f5dd15f85af11d247186352bd85e8276972195f232d82540380c0513d3d8559e195aea01cb8b1b0e47ecef347a326600c70204fafc65c37978786b3c57ace024e928c7ac7ec888d82b7fc8c20259c3b03b75e878a14dba2530141b43b1f9b217a5a703bc044fe5060b8a73d08ec5fd5bac54e90e35b93837a593544099e247c8a6551310d296ead3245e763c776a0c2350424cde7a11cdae6b422df298fbe7ae9cb787a0ec9c4f279791cb8b5770f281777d84d01726979d4567412dbf2e2a462ed92068f3293da753610b7af61e3c43e6667dc003d2aa954fba14e09d0ccff5c22d01f5d53afb2c6b3f9860133cc6a18221875f4d513c292a64122d22c99f71fa4a6cfb9e294a7bc46491474b4f1acefa061ad974b9e42e75321a5794c2420c01b0d68425e290b27cbf453d47780e640009d7fc3d748f926ad34c3394f4a2d38272dc7df0a35d2ccc3eeb3b5a806b5f25606999a9d1552d6db0dee3069f15a61beed64c9d9234696e829f53ee0023f6d6943f704a44db30c777b22d714ba8cb834a98aa8768174e32cee0327d1cde644c8b25e529dd899204858aeee58d9438273b776ccb33864e9e89ec656cbed5ef7f4287c56e051198cf8fbed4a749ffadafdc1ed87a245a90377df5d87bd9cefede7060e735b18f4f01545370cb55d20efcb6ea67336dfd727cf7bd6fdb55c26ba9026019f454141c826e9921e87d4f2e1db2629a7fcad8aee04ba57231f5a35e9e152a79b98731f90873af2abf88be92cc2608f15b7c0201494d83708965e1f905202cb397f6d2be582b903961a8bca5aa344c82609e62f4ed4494826f908c7d1ae66d5fd32fd40490bd2986da1b169b129a2d0df78a21504b2be1d4911389627aa7ebc2cedb4ebc74d2eb9bd4ae29f9aede550cf83c939d74ea1e93018fac4b2f434889956cea71a7eb729ff11bed355c9715002deee8f9a265b51c5df26c277795ecb503fe645f6fe5e8a4ef425152994b3c652a2bb8102bf2015c58377faa08eb103e75c393af8d2ded2cf11e045332c6486da6b11269e22bdc10eb83d17d6c9de436f958e3fdd38f4994d60dec1f7155e689c5db33e311d6964b552bbaa949a7df85c8d2d8dca45b6efbb412c753addc2c038b90ddcfc49dd759c22b43279d273d7e2faeec8e4b429c7c04b4ec6b44ae572548ecc204f3dc0490b269e243fa44ba70d164f6dfb8286c4f42213a8f2caae13e41b48cbcb26635d9eb02fce713475ce475cb665a1c162cee76bbe170be11a8e56744c8d624d902f77ff17c325c6305db2e042030a4e37a49b754fef5b1ff8d64aa0aa7e9b24ede4f5ac1d2ce6412c0958656b83e88e5372f2877cd98009e3d8b32f7bfa1047fa580cf8c5d3bcd8a1df44c0697a240a48521b9d0625170c6230cfdcc558c2071786fca5f5937eba05c38d7cb326bb4325e207962d61cb027f4b9755de74ac80d04f8f68513360203cb5eef20902cbaa35e2ec652a306a9f2c9a643be5c93ef6bf10c0e76fa19cc3f2084572beec53d2ba35604d133ab90361d895a80bca534586432626f6b1052aa5aee8fa3e4a518aa59c8cbb37cf36f7f3ca00294eb5f246a477dd7f640c2c4434647e9fa45c3b6470b90e19ad1156031f8e1363348df80b8356ede81b17ba7fa368caa3ad88606daf9f17a668bf22a85c3e842c6478f3aed4affb15b72385cd6747718da03d30c8c43361b24cf7eeda7a6a7052a76e3cfa7cb654c7916ae0dec0730007fce4a0c2f02c4f1a03ba0abc7affaa5ac0b8e51f854ad20d8b40d0cbaaa3f3261f40afddad1d95ba897872309be55f0c7ea32dcb85cd094ad9cd974bedc04e926deca42e6d32031d148f1dfa8de56c9c6e31cb1fca7bfd396bd60d97956f95753ca5e48314738d9b5e0616d78109ba19ad43a76619f67b2e0db59b6fb67c0eafbe19731934000f5186e97491e79c46d6a556917415c35b804069dcbfbbb7f46517e849105f792057cb6f85a2aff61a19145a5693be1cf0495403eaf25cd092406e609a55d064a7b1c8b6b5808d13c4f8723235971703d4b197570214bfff3c9f203fae484ae43d170e755e20025755acf28be40208a229c870e8cbccf1bfe1603ab484ea2130d4d9e7644e53d05f1bfd060b9531d00a0b29041321da813b2a4d134375a8ad792351f5efa890f61effd1596f935a10154e657d2fec436fd892877abed15650a95e009f573cea7bbc1591cd04d30a2ea6c9d5ef146cc7f274eb2aa02d3989ee92e866c7d6511a90a1440307501f7b29079bc58375680602b204abe0e453489d54864da8183eb68506e37d97abc283b3dc91c10289de485f409a762bf6d4e667ea3d9f361cf3c3cf81245888aad51e0c2cd750011d0566c2d65d087e1fc91e1958f07f98a8ff217cfbdcc522ae21a6fb6e4cf4059298c2725050954665934582dad62cff8707340f38d37a5b850f8f1f67b1788341882f0fb2835c13a0dda244c97c8992d2c0991ac05be8308ead1b018b02239d5a00703b99292d809dce8c3441f28c] */