/**
 * @author Merrick
 * @name gemini
 * @origin xmo
 * @version 1.1.4
 * @description gemini聊天
 * @team xmo
 * @rule ^(aigeminis|aigeminic|aigeminip)([\s\S]+)$
 * @rule ^(aigeminis|aigeminic)$
 * @admin fasle
 * @public true
 * @priority 9999
 * @classification ["插件"]
 * @disable false
 * @systemVersion >=:3.0.0
 * @authentication true
 */

/*
使用方法：打开https://ai.google.dev/ 获取API key并填入配置界面（获取方法请自行搜索）

命令说明：aigeminis是单问答模式，aigeminic是聊天模式，aigeminip是识图模式（目前只能识别图片链接）
         命令+内容就可以触发，有人行的可以直接回复命令。

如后台提示"User location is not supported for the API use"，请尝试调整梯子

v1.0.1 优化代码，增加单问答模式，修改触发命令，界面增加Max Tokens选项
v1.0.0 基于sumuen大佬的插件修改，本人仅修复bug和适配2.0界面
v1.0.2 适配3.0
*/

/** Code Encryption Block[419fd178b7a37c9eae7b7426c4a04203020a6c180c62590b0458b07ea03d82818b04989c9f7637007678e335078c841a0017e403994ada891ddcf8eba95cac037ae33dfe2b9d4f295522a960267f3be95adef3da54b9ad9e643a32162dd1f56c87c947159f39679b96834e5d6126c1534740dbef58182293b6e07c634619860fc4bc311942d3c83454fd75e4d56d286cb29b3d8f2ad82160fd63f1739f9dc7ec735c686f5439af41414928e402037bb852a15e592a36cf1201884deaa1af0aa65669081e98b5f17ecf0780a0e79b5c31397ac8bfb66b22c169aa057b67e4bfa18612f1ce1885550b2d287b9d676b8c92ac8f3d0d5512aaaaf8782ba4578bbfaa527272b069bd8faba2203a7c07f51b38419f36365554fdbb9a725e91b843d64252f35d3de4fa4c4fda6771fca76edfeec3a106610549fe5ca3c381197c3e45bcb45497d101480f728cc633de5b35582f3608468b5806bf9260a3ebe77597fa4361b6e2bcbd7fed9f8ecb0cc0cac941b9d2a647092eac769774af9f2b8ff9d213f62cb5e4daee344fc483ef9d2c6bb8cf157480e7d62b0d10668ec208a0ee3540ed13bda9642c20da78d2fa703b32a6de1cc54bae547d07b23f8c58de0d0080f70df5f1c5f4018ccf788d2d5aaebc0bc192f608c3574489ab4bcb366510d5662d3fd32cdd5c540dcbd80ff4ab1e1e8f76b2459aad35a517e6b06d8d102ba5e1c6dc13c57eb6a2bda76b97b72195a83424c388f145f106e45ee4a01d40bd4269aa2a070a8aa67647b2cb811d6941732bfe08af95fc2c65166e62cdbef13286c95a7bea34724ac3482bb6dd9c18bb408c29399c8a45bea812f9c859e32c3e4d75f45ac0bf18a89d056fb1866ef8b5621b40391b235495952ba2495cae8cddb40a36a6c4350f600f3f81cd0cc785f706b17cba5659484beab565ce6d3433b34f57d2297da97f21da4f30d71d8bc9f7843b96294c689537250b2e6411c40ddbf36c1b6f07eff95d395c16ea4afa0391a930c3bbb47cd0622135402b2e34f5225d87c82cde4a7c7ba9397dbe479333f7f8f80f76d8179168cff540f4081ac57b1e219f28f86cc2de6fd89ad599e540c708833850b57c852d213830bdb7f9cc134e954f0c203bef32258ef42b20405f0e0db323b3d49b0e61229c0c3cc27d4d60de3509407086a48d30f05d753d2c25b8c41d9b868020753143e75886cfe58adfd5a1d0b65cb2d97d20014ea48808ce3a8a033bf0f7a34093df647644e485c4defee63c43a7ccda5f35a619fadae2d32dfbf81f038afbd3870cb13a2caf73e448d7e2fe691c201174468fc189355a0c001a792aed27ecd20d3f9c29b105befa1268b8499f0c4d16a0cfab5dd2e84897073affc4c842af1f1658316d95211536614b328668c2c2bf00c505f238773b7ffce9d82423b814dcd367493a1011f039d689644061eef55987e023a78b371b493ce76caddbce067bf72bf9e246085ea42a2181e90ea9570c629ec468c00afdf27121c430547ddc5fa1eaef67076a805621d59bbe6f1b3a30bef4c1d6c6dea9eec9d189a4c76ba8830bd51004dfb1b78a5926392e07351198ac93946395ce79020170cd8cf5300ffe4d9890805a9d10f1f66b45c1e3ed248c4ba4a9cc58ad4812ef6822f24b5157d4b470f4ca99083040af294cf37883e815b85d1a57988dbcf331a7290b14c03bddb243ec5eb06f7e9882d3f37087484a7605bb1e6ea07668f3e2c441472ac26c5c176ccfb442d3d44fc82593ac542d15a95fbcc7c34fcb9d82f742d157b88b1743c791b48e94937dfae08f56ff344a94c85abb7ed120a90e4cd7ce9f87e1fba37cf2b267b5bd7f5b22c86f8b549aa4224d73897184994af82ebfb41787856003c8cee0a89ea3ed17382e8c15fc93e2fbad34df34b4de21f1ad4631401895d21b583e1cbc6a2b12e575e9425b16adedcc1320ab3a1acf32dfe116bd4cf7b1e4c7be779e49b54c29ee332185a88590e746d3d887a63a704cb8c73eab0f8298288aaa68b5b565f07bfb08ba2cd7222c83a463347f1730518740f2b22c12ea2bf1b4f163f1cbddea49e1a9768eb6e632aed10f0813a0e9adaadadfea2c95763d08c8386e1f51244d27d7d01339b6772dc8b6b3443b242713baa8330b8446f58798c417fafcd53bae34667237d1b58ded3b26deb9ab41e57b59584d89294b891d4e65979eefda87db36b2b77bc7f2262019e40e60f117d1e9a4f99252d7bb7138c939d660e9c587450c842b4c482cec483b6ddb5e4663c2d1e77d87a7589a67cb02e2b2ae52ea108c791fa3ed1f4c0d668c20354830879892153dc90f328686d36aa217abf9b0b3e1873b33bb91d46ee9b93da29182b3bab45a2382437d706f6ae8ca03d7251cc39d8c6fdccaa844b261dcbf3d1e8ad6ccab499649a6cd6bc6d44d92f07045538f212aa1be9ff6eed4c2ad60f530ae272621cc3ad74cae09fefee43be60f50ede5cf0f69ee1d1018766bb08b5a28c6f75ce0790e29b7eb2ed2ef5db651bc3abb0c325b780359f823795721888877c21f36b7c13d1965e15b9feb58ea5537a77ff5c1c66ee8fbfd00805194ac4bf97c169f875abf4678080c96f4498b1efa45982ecce914feb17e3d619cdcc8cd4773eeda20c042e2febd9199ec0ab8709b25357ea1a71cc00235a91777bf725a3b843c0c9ca8a7eaa122c31034086ec0c4e819c7de391111db297708808c6bce3808f30005a1c630b0eccd305bbfc9ffcd8801ff3b12e3b9f9c392e0dd8ab9e4ed4158a342e7f63d780adc1d695579e911e543b8e6976ace71accfbd4eb29319750f04240e5feb2d019aaa9836e644cf133d8599947212bced296af11f6357d84fcf01b476199869dce99b4205545e296bd65ac277850b112d403a5ec4ae8949b4a2726e1d5f16bc052e3d34cd291cd1f4faac7e7569037f685ca77ed3aaf1c452e823e95e9a7baf21f2754126b58c19de9ddd9eb1a86b163586948c1432708808fb095b354a388aef7f304621e150815a7e716154c11888bf2c899d68258b6ffaa90b09d3177655b4384af4179d727dad6451d7d8241130e732e43eae98d4025c17490970860e43d9263d5437d9f0dca3a74d803ac669ec06e7932fc2c8c16216e23a906183bf07fd36f3df49d23a74a87bec1b966ebf8a3b647b51821cdfa69c08f8a119e0a08ab3516bded7d90a9fd6667e2be64687b6538f868886ea5d09dd85d6e5226d03ba3b96152e00ad734712ca6c691488ae352663e45913973d0a57e0ae6dd088e0dbea73c9ed210ca34e685260dc04fc5e6ba1a5a9f12f20e397d25815422fdb7888e1942198c8c76ee85cfa0f08cf7ff5bf59db07d31221a3eeb7fe805d3009992641ca6cf19e4c9e72c858b5cc1a4f688da35017a96276955959b62a57fd21c18cc73a296388087b1916750a95652ddb6119ee33ff11d919989181632ac19eb5a5b5b7d813c8f897d8417e472ef9f348f570ca39d2233fcb0410eb8821a04c6d703230d847f5b6d6d32d99b73957024b2ab4ab21be34abb6212fff6050410b36152fcbf427b6fbc88ec2290c211177397f0dd7e6fc8097e7acd1de0b8375206bbe16e9391250c0f70bfdc77178ea68a597dd6defe5a7de7e32d024418a16d9cf489d0f9bda140b0b089fed2895ffcbd3596f044ed9effa202c9441719407fb097b2518e206a9968b0c8afc055e9e2ba49eaaa58936871956ad078b8a965fa1db48b67499b136794a0594c344f226c2dd812183446c0a6a613e454b5b5ea9ac2101a465adb4e8553db70c2962d8699956124267f6f6fc4dba1c5ee9995a650b55f85fc496667d2060bb25b27bd3db395f5fb5fa5cd80a990da2384c975d789e65cddf7e665c6095329b1762daf2beda7de615e085bcc4f78aacddffc82f38a50db90f37cd217f54301b929d8466abf332e729967f88140922a68ade85828769a03db584ef5889353faab62e393017d52f000389ca3236c85fc13f9a60f2444b1c5542f4f4b992b24681e9f2aaa225732edf4aca07da6818b55bbb272d357d25888512c31880475bac59ca3611537ffe368abeb9837d4e63a7283023ad38de712dfcf34bf3f398b49218b52c4d1b4f012bfa34988b61fb0bc71a8ca04a1fcba0513c23e3ee3ccc137c2540150db3fc95aacd56388b6a69dcb0bd80077ad1a7e33569ae3d4f728e0dd140397989bd1e55f876f82f6715d619abccae25c9a9b2426200bf6d5f8aceb486554ced8b723ab32ef20d49c44ba677d54c52ff8cbad79a857d355a573bdcea91ad16b1d1bf693ebecd2dcb0a9da909a92929987e8576c6dac232bf3ef77143ac04ba17651b0db60fe4aa4fb8cde179412e9569bf8a41fc7d20741b7608f7adfc1d3c5fa1a465c9c02314d6fcabfd79771fc8b2e3215b390aafe17aaacda9fa03381b4d7d10e3bbe4816a82d559892a7e6cd00fcd86755c312044db3de5c95aeae8496d41fa1350598be5c72edcdb00f83ce3e5586c15cecb72d69c4de391f90364cb108e18b8c7bd28ae9d1197f69c6e43ce49e8c23f1fa272e70de42c514b15583d3f30faef8dde71c005bcf4b356ec7e3ace90fb35ce4e6e97b6f71516732b5801fb796a0923cd9f5a33ce8a6b13e06286e49e03d0f76a2b6a6e3d71b4228cef9447ed7a1f9298831c59128bad43e4e91caa92f33475602d5f4ac0352dc2c3a861b94fd1562799c1a0c696efc714df8468a45b236461cd7650401f7256e1bc3f64380a5d562230dc5e00e611a60e89dfaff4303ae210eeb321434fc55c67d2b962984e83e0239db88a81726e36e2d7c7ddcc16f446aae5d9318e762d9c7ddbf7192491532f496d4f952f89eced95183766d49ba46706cd1c8371cfa2b833d5e571dd56d4c84c718281add70bf494654188e8a3527964f02a8f69b5ae1f80a165bb1ffaadc8c38cebc98b5b0857c01ffb6d2657d3ae9826e2ac6bac13dface45bb506f53662ef0dce1d54eac2f8d31b841d16a5ac8619e8063c2e45ad88beefc2d7ceb0603b102bf470fbc8030588d3fcdaf9e36f28741109179d2b6042f50eed2d0590bd48430a346b6f27df285efe23a799e19707613272e857c390a37412ca5f2a345ebeacffe6ee38a545326cd00557b76b033f8aed1f64e5b24abf8faab1737191ea7c2bf3febf07b13069e8d1bfdd1fc7cf51f5fba6d1e6028fc42e74008a584c795dc9a0610af9ee9ed1a95e7d13f44101adb0f31d9cb541fc0d2099ed84dde7c0b97f1c9d29d25bc40d260830812c1509775b7ae819143cdae8609e1c74d8b95f420ad8d1857184f9015bc7ce0f58e7254fde09e46de1b92a58629567de84a240e2d1f54693fb13008f4c7107fe5a7ec9ea5f464fd6fb36fa89d673e7bd8a32c26f280d49e4797a3c3b554f950543757934b507882777dbb39115fc3df870ab182fca981ce951993a9b52587ee7dfdd71ef9da4e4490424cbfb34ea19649ac9e626c25b0f504271fbda113f77645e91c167fbadf7756e4468db954c84641743b9665db21a116c99af917042234a77f481075a8f16c8103e0a97c7ff51957ccc5e17f0980dfa67280f4834f67b5a92f34a4b3cf89a08d4bc4eece3b9dfa84807b195ca59323eda71f4769499029bc1a48e057804792d724f04c89475c5e85fedef5115942fd1aac0724ccee4f3d6b77974f9af34fd50aadcacdf4998b3583f91006f1f6b3676f377d58bfc7c3feae3a2d5def1408d31b6622154d484a62c835dc7fd87f9c2cb6d87b51783ab68193844f7ce86ebde6601706b2c1bf5bfcfb74662e3aeab520c50829cae2568d22c78c091eee14c13fa54af7959bc02032ba709248201ff8dcf8d713f20b366ebfecef8a3ada7d08dc6109d80bb2053316a47f1369537bfe7ef84bdea83ec7418c6bbaf13d3f1c6551b8819f45a99fee299c36695d04ccfd885daaacfd8824e151e9f87bccda153a821fbf3d743d96f0da46a4f55dd3ab131562e031de02bcbd1cddf16bfc0d8c5cfa951bdf97bce66188d45459f144f87049f55108e3285717e8bd25235d8a799a8bab07be365d502bd1e661ea0d6e1938dc60b31a42eccce155e753d66f891619ba7f7a4268144695b915d6bc180f1d9d7db666ec01c2f36dbf56e4b77ea7ef7df9c3b8db6e537e6dff9daedd55075e3e968aa227b8af29c97d9187cec21c5e7c704282372676f60276e5103e6f366ddfcf8b89084c5c44c132ef4f01ebef0afe9f233d1cdc29ae57a995c1c382a6192bb5a3fd5b451e2b8e92bb4036094839622665cdb5c8d7706c356c1f9cb2915feb84f3e89d25191739ea3853275354edf3ee012def3884b687678eb6e4c4ec43494c9de855be9709bdb6ebb7fdb4a8b13701618a9ffe7bfb90d6b547e2ba788799bab1986f31dff0a3692abd3aba00126b7c1e37f3eba3fd0e7d9f34ce6b4bc5d43b3d5270ddb9e743513115a54925819275fbad6ae1f7548e5f07b5c0e3cd247d73082943a7a5ec520ec07a975fbdf0cf17a340555269a8c081b9ed010e90be02bdcfa344b94ce027339de44c5c10ecfe815d06d3417a22eb66cbc508b955fa384eda9b8d4717378be9127b2195cb8b3fdd409b23a66e22f21c34407ba42c308b280d1c7c805710d910fa776292a29d76c40c9c8e003d24a93e9954f3b79462453a81efdd70f21fc8d7cc21c1c3531e739f98635cdcb2aea76f0fee90b56be54c7b3eeff68e316c934b442a57817829f7c7c8de8864faf6700bda7975467273a87ba112b62bef3420b8c4cb85ce07a61dc9f217b5cfc9d8ded3a5b383f82ac59aec4a084b01109f13675d0affc25cb0d0061c25645a9c0c1e7275c547d5c8270b0c5a13ec4ca216744e0a849be742377d5be93eb576408df713a0d10e14a1ed53c2c9dc7a3ba2f558ab4d323be9e43da6062750f2dab4e63bf09e9a25615760388c53e3040ea6ff1bf7d44bbfae37e1174731cb9747c5b42791bc69a171515ecceb3fdc261dc74b6f1232e2f316efafa3229660c5db9c92ca0d65f4b9aa51c15584515d8f2b1e21ecdc927a1a56be2cff7e1479de4e20b16497e882a5c0276a08ec640f4ba8bb5e305b90ce06a80f5b3ba1a6af9e9b26c9832e571b932e4c3509d80c6e77c2ddf1e197d9ec6f8367427e5e195d6c5a80520efc3c84f6198fbfc4e66acd90a34410f1f1b5ab2ec1e9ecf6eeef53bc6dd7d0b82673a2eee88dfcc54741948e396e5cd3f09540011cefa997248b0ccae51033a4374954e62dc8327bbba6dc321436312915df81327e09378b64a4b4738d145008f89cc26365fe2351864d5b849752ddfe8ea2d7a02bc21d1304ce02acbf2a4ba7b7d84dea3c592ecd581ea3420b17132044ab697bb2abc7547230930640608a7280b4d7aa962d975fea84845dfabb4d1eff5b27df9652b273fd496a4fb53d88d21344b1261eb8bb1b4785fece022c5b8e5f92c1259330c42cb1805c367bcfd1317fa838157a7d7b1a994df2fd7997106f4a7d9d4f67b5c8275605b80cf92cde958a2c550ab76aab7e046943a83ed050968d9bd21b818ccc38e3acd8c6bc9732462cfe18bc19f66d71be5657bbe7e9a8294cf1bf13dd85513e3a26db19d04e6d809ce770b9b1627b688c5776fb7b1602a4d792a07287f377120f3ed96daf7ad3b58f508fb45c9f45ca6693cf0a3dbb32cee42da5f95762d2cff7da980dc35390500ec541ba3a65a8dccbbf35370876196e260c1731dd9e180b0363763484a23a0eb095829bfc18381d6103594112fdc73f7456ae1a814074be937be2f8050784035eab4fad461dedbee9980e2d64a6af3d0d5d80e5276bff69629d9c96e2921db1a73f0ddabbd3527bec01ba7192cb0aa42fd84aa17a94d6a0e6ee74bfe31706a87d9a359895ac518ed9e9900ea26bb0a172f55f842edbbf9ca95c12b137ab0ebc715feab8147636959aba260bc312a03b24c38b202bf94f2415ecfb723f08ff15fd4486a463a7f23fb5d1160cd8f11078c51083602d2714be6a6ae81d94b7badc9fad4707d246428047a026d864f9d8077de1f8b8816dda78aa54aaa9b0eccc5566fc53cebe74f1973b529ff0c2643c314a535f9cc85bdbac02b6361dc08831cfb6b9cc3edfac6094a106abc709cf2ec77ac1a6f2151d0914e95d62186054bbdc37e211890eec9e9fdd369876875da1701e70909664f466110c8211ba98a61fd0ee674f47b94930fefd44192dd10c0c898715c50a2ab63dbf1cdd5e0fc48b2766bb0171c4bb661d9c5038e1462925e379ad7747580ab3f77a905bc1083193599d5539590f2002cddf44107d86ff45c28dac714068c322b3cbe9c325034d5d0fec79cddb83adcd83b1cae997e3b9577e79b9e1981fda4cd147889a8220b9135d96682d95e3f9f7557f62bc200bff9a8947d0dff1a3b7fbcc1dc2228ad86832050e62ebbe9d13e224e6d97d1863efec8953a33faa3b9cdabe222360d986008e996f6f8278583397b9a0e34557a4a37657447df9d2c2508eba3da4a25f67b769d9c0e826c9356a007040b8cf787eca42440856343ea0aa5be36f2e3a87b1a12e648243b853ecdc985e26f11c0095d2bd1abed0b010767138a0b2f00c7dfec4ec6c384a844539b5d1c4e5ad7591f2e962f00702a7f2e827d6a68c62b37a646486cfbd73e41a59a27fe9a1472aadf6e5b1e9c30e8e88e9dcb25a617c0c6ed602294fc742bddacf15b78af30138ba5e33daa8e2dd53e41a2c32b00c855359bb3edaee77f79699d4abe791871c3a680e0c238c6fc6906345ec63205e9f4c544493645fd98b289ed771195eba3da8d2e10cfe48301964fd69f39f786f08414e91727ffab6524b3760039d05ba073f2de809afde00d4955de2af6d7c8e2c8deec12a96f0d23199b07626fb33a8b76ac5b5f4b67134793cdce54586a18a14ceccf3054aa6342b4663e7ecf8aa2fe9907bb8b1c51ce8ceafb68f0e1600061a71add1f6842b76a37f6b323e30e558fc71615013eba1669aa154909108552507cacddf601e583fc0bdabba2c7ffd79f8e1b6476bf1e3fa93c90feba373f82c41085b2770690323dd3ef205736c891f63d605334b590532a3209b0462aed80c8049d69e05f4fa3d1a72283d3109705b8070e78814653ed4551c095b5b28daf8d195c9e2051a678746e628d17abc30ff74beecfa09165d2026855a6ea1987eea7eed22ba13a076d0a490d12639682dd194e94702b75b3dea09920e2b293542e5d8b24b8e22e0f0598b56e66772f9989ce61aa61dbc21def642568df96185645f77687f3c1dd8d2798380fbde19a78eacc5ba8d7947ec9f28747e112d0a9bb95b93989bd3f663dbbe707b787d005bd760419c156e708baf23d61875bfd5f732f789fec54dec7f698be0c74e74853926146024e658399bbe8cb0ed8c406a7e5e755fcff4758f15e72d139c2a430fb1ba06d558282b9f0a1cac76362e3a9c95ecd838398a28f3ade89cfd9a87129f2837edaa9e245ede1ebdaeaeab150a8924ca5f64d73d46503a3c68c06d4523f7eff3036d8556da190da03875062b1700e23936a2b20e47d8989840b0328398076728ba8e8ce02ece373d30f03a65396bccb8a14658e32b7d6042b2db13c1f10bba4b77aba03082091de352b7b8552c45cf0f9ca250fab920f335a194fabed6f3ab408cb173f471e42a49c9dbc56378d904594b0a8097baedfd81bb8d03ef00e25d1f22f7d166c63ec5d3ef3009cbf14410fc31f53621c22ae21f6c35ab81e2a8835ff64f097bc4777478a548898614a00f9db036632dd922d9601a4cc554f59f8b8d75426498a9a415d7ef1e5b1c6d3965a19ab5863ccfbb00f6c4d24baa52a25e633c6d522c25c8131911799a8e1aa7253b238e61ae495dae8b3b90f8c8ee599ba779e7076862ee3b43fec257496ca2bb7e5cab7634f31b25659a2a40edb550c912fdf6752325dde7527ee8b16ee477dcb2ac01b984ddd1b54b9cc30a279d2b66d2d087ffc63611b294f12b596b7f5144c98495d4503646053035f2595ffdb04461219afdb281a7a80e05ea5fa6db64581ad19177498566129aef10e1e06550faa558af7c1977e3a6f725998efa1d05793aa535571628a345fe5dba2c184efc52cc4f3042b3e55f624bea0a4e4b1831289e7d4356e6b3027e14200f63fd48019964538986b7a78ca9e5dc1253cd3772b82315d939042042439346064c2fcd858148cd56dbdb918b34a91a8902ff1961f89870ab470ab70b08fc1d751cf4945c9df8f352b3829c59ac86b9c7511ef0a473f9ed3fcdffa0f548ef2a08c93cd2ff9ecfc308675795592c4a99b209b553d2014ef4ed44678b03ef5d7c061dcd91f675852b40a7212b7b38eafd942702e120a2e70f7520ccb81cbe05bc35c95c6415baf97fe3f56de36d6f085d4427f61ae02219a8eb934a40f59b5d714dad029f06a9420d9dcc0f5f7a9f7c283c22e271af5daca36f05032427a898765937ace0e22d92b137557eb313928acf45736e413886e68fa64e47af8891b09cbf5ff21a20f65db2200a4ae15dcd645f52b3624ef6a455124b9c43d976e62c6adf3573beffa1e8a10dbf4366236e769ed4fe3280c61eccb3b58949433bc2653f790bcc6d0a9376f977824b9e4] */