/**
 * @author Merrick
 * @name gemini
 * @origin xmo
 * @version 1.1.1
 * @description gemini聊天
 * @team xmo
 * @rule ^(aigeminis|aigeminic|aigeminip)([\s\S]+)$
 * @rule ^(aigeminis|aigeminic)$
 * @admin fasle
 * @public true
 * @priority 9999
 * @classification ["插件"]
 * @disable false
 * @systemVersion >=:3.0.0
 * @authentication true
 */

/*
使用方法：打开https://ai.google.dev/ 获取API key并填入配置界面（获取方法请自行搜索）

命令说明：aigeminis是单问答模式，aigeminic是聊天模式，aigeminip是识图模式（目前只能识别图片链接）
         命令+内容就可以触发，有人行的可以直接回复命令。

如后台提示"User location is not supported for the API use"，请尝试调整梯子

v1.0.1 优化代码，增加单问答模式，修改触发命令，界面增加Max Tokens选项
v1.0.0 基于sumuen大佬的插件修改，本人仅修复bug和适配2.0界面
v1.0.2 适配3.0
*/

/** Code Encryption Block[be188605b2af9d5e9f0e7db22a9634fc7b2de4c4d59355590ba25432c57e71fb606409a9061e9a631c4d45d21ee06bcb1479982b43151bd7a7a4f93840eac37eb1befdf3e99382c7ef0612e25d73a7d9b84635fe12c26a4584fcf70760eb303e02dc3f91daa57e3520b6f6bedb6126518afad2162cddf21dac3b9c0d60f3b2dbe31fa0b246ce9aec2b678aab35546c73dcb882300b845aeae8676a25332f67644f5cfdb9a20a502e272fd5775d423b90b7b1d63558b9e7b69ae9a385e2c48d5a7162642a0f917b8f42ec11a3343ead0b47f96c7647ff16fe9aae4f1bb93651980b30e7460457dc98f386df6857c3f59c39827f06687ff305a6893cdc8763f2e57e42b29ca05b948c1433d16390c7e936ebb022b93e214440c8475d1f32317d091c5ad4f1d8667d95440eae12a825b9537b7d61864d125291dbea6f075e3d63d3d96a1ad3d55eba1f70859980656b43d617418448d334c509a64c65dccdb2f1bd4de13b6b88b47df3d7eacdc5170ee99c3f5bc09d70d1c5d10c4c32eb6db9b699823cb0b2cc4ddc3eb2fd8473a740b5acaab62d9f2d20b0f5497f2bd2b08452d233a46fff1ed5035ac42acabb4fd6aaec7c61531d1321c86490c7c29eee08802c026ebe75b64d3ee856edcbeeab8d20610beb6cea6648f240d43c4723e6209484486bab71459f655a4705a16721e5009b508828794f147a85fa751d831fcdf35e10e3a27183a4f2ecbac079ecf75cb68d1805fc406dae4e6cf015f5eaa2b5caf3f5c0cf4ade997dd78f49f175ee71e6a321642e0b95f53e84e565a173afc2869775fc2127475b63188aec4b7ec5f119087208ea5f9152c78accd5724a080242ce05206c3fa12d52d5ef8ed131b80f517e477d35c32d467f6c97218688a7321ad533fbcb814f6d1a5b1c402a4d64bffa752db0e27d97aeedf6b2374ffe39353327b25e379414696666a8b6ca0494e07daf52bf3a8e2f19c7c760d7abf72496cbfebce2734cd1839b7228041c8bff69d2939a98feb76801e5513859f7a8afa6716ac74b2aa47d75cfc020568c632a21026cb0c0f56427ba7c36ecf7a996bafe941b649abefb0a406d325ff0df134c02c5ec667dbf8af257cd84674b5c56e1c78443494bca0fc2783b13a14f4df15b7423ff8ef6bbe82bd5ec372fb8cb710c6e26e70bf0a864907ffaebb682767485f750037f9b78110796dec22d825d6dc50ab528b40c348d1f6f4f39a14b7f85b973566b2838d4d8c1c01d93ccdd30ec7940b3fd9c0dd419fe29c633428a75ae0b0ca78587c72bd16e76599fd538a35735930f8e3c56cbc93376197cc37e2ec74ad7e34d133efbd9ddf569e40e838749a95ec4af8bde8c35ec31db521c3cb14ac3508763610cb2f0f85d7a6ff8f6eb22ca72b922c2bd68c4bd708705e972d35ab1258000477f1077ae1a582a644a88bb10c4cac968429c5f5d126e43b0f2e5406d838f513e7478c7ae5b5187e823365e4ab0411914fb72f2c9694c2ca7542f6aec010ef7d169d4aac7687ad2d9b3797b1bae02b8b7b4783b75614f96346b44ac0008f6ba3890fdd877e2f765649bc12fd6e16d58b345b4f8af26db97acb653414a5c38e5f2437a2306e52a79f7660df0cbc239c5383b833e545c1228b53e17c8e771a8640241b469b46ea68b0298dee30508b9b50dcf2d5c94bf00035a1eb01a154b6a33474a686b513d06c0aff5a9d651720dfc3da520157acf89e6f72d13ba93ca57e26a464f5ce19d624d94146dffe4ee6fc8f2aef4582a30135358e3f5a427159f211556f2f4e216c7b438e2f5d3fe39357596fb49a2a993460ca921d0ada00c64fcf2208c74d8ff032fd6936a18fb2a241c0b0bd3b106b1f8671cf586ec5cf956a5784899bff68de55a1e9a54b222fe39a2a7c1786280478d4513c64ef1fbcdc839532eba84e1bcf3f61d03f95c0f059fdcccd5bbd93cee86fd77df64d498893d7cfc41d014527d29d9a2fed4614e467da7e93889d82e690e90c00dc5351b4d8bd9be4b33aeae92f5bfbf0fe708b87b16579179f7374a4cbc927bfa69a2f08d5bfbc2b1833c2bfee451a7129ef04b55e7181d0f6901e0d00e306bd6469f7cc774784231a7620e7c7394d1c7d12acfcd573474f68d531fc8ccf3fc62be30c6efec3bc14b4f2ea59aa340b19153c7241a802ff67e8e3bfa98908e0bc595f83aee466dbcb468cea6c729442eb9b79e4617756c65ba39237c365d7ce8381313f29c4b20253fb6cd543f614b67fc540113856244a7689edc7a3296b096f5629be3ed6d0b0efbcc13b7c2440384ba3179ba71f9294438c67a21b94d8333d5238c47a05e2ed670b921040b7e6e08c5bc0d4570833d962c25184753249234b6ccda22fd84223ebf9f70e6dc675a080f4fbee7377aca33ea856ce508449f746c0a12b619d5f5b7a390433cc492decefde9ea6e15c41ab28826cf065b66409e601484da71d4a885b66796aa0dacf8a3e08baa5c378c890c511ccdf06f95e08684778ebf22d29ecf205a77345a76cc2f68bbc59b0694316123cd2f083ac815856288a132cc7fab11380ef2cade114f814c82528ac09d339d5cd58795365294230e172bd167c0e594dfb3d34f60bba26cc1e7943e98b46b4858bbdc029ba6f5a3a48d8ada874a92a6159e3f8d0e713b1b0e19496f264e96ea520593bb5d4c4bc3b8272db661e95074664a1bcb7d52dfe84a58e22be26e0a941bb4470ca404910428ccc746e124cdf5605d860ba8177271cf66a567e3afe401b0bad5549de8200d3f1ebb86256251607e3eca2820e7467c41f66f91ae822b555792f6f2907b1e52c9e69063a8bc946cdec38e0e408b390a4a41af7346f3458a20c935bacb8974178d7a7182b7c23b909a2755cbc5764c1ead94ea4492291ffc3b2c26ec0c40b1c7746eb7c57a845fb38e99ea5680dc8fc38fa46827509fea644b66f9580b942b0c30134694a0d641e686f9b409800f52d64cb6ed30c14b0826d8637d962f38d905845a82f56d064737697ada450fd86f6a4c69278aa4e64496749bd271eaa7b0f2b556871421341402ae4332442d9b86541da715d15e6c5b3b6b6d828b0c0a8b276a02ba70395d196154749960859ff9927c3daf81680cf5540c78fee4778ebc055386ff50d921f7c81fc2ab87c06ea93802ad4c10b8293a5dc774b831b6dfdbdca29058ccf1416493afb4c3e0fa68a50fcb2385987bc70b3209c61e2e10a29a0e574a000a9f482693c542c65a6e1c458c0230cce2812e4af49584883885523797d6d715794f01fe2d9a2a7e3198d504fbb64466995b1790c126eec362fa2ab18b13528a5aacbf542708640fdb93dd4fa397497f46a49fdaee5a41e1edc8fe1779091ed8412bfb01efce376c7fe89b7848be35d37bc31fca235e33fd2fc16d41257d52faf5526dce0c2af6aee7f368320652dcbcceb18e4561d74df090dfdf200ce9823acaca302452c2f4dea60a0e571399bb68ed2a635dfae564374131bcb609d5b8665fb32dff0db5b72c3efad47db2dba9d6607d22beb9bcf959c2f9fac6ecaa31665fc2b552e86eeb8a6bf8b1e353d8f41a795e168d41cc46a83fbcfa6b67b80dbeb7cc5b1e5578a5fad383990dc8d7bb2bafa02e4de76806cd58e8933a4810affe38597b3f72fe4a651643dbda02d4444472afc1ed67aca80e5bc8258105512983735a0a30551297c5656547b9469405eebaecdff6d8fce10d3eda108adeda45030951c67891395c74005360d4f08620b07b2528ccf2df00a7054fa1b67750ceeca153dc31b5188949f6b9b9087c4611a8ec3ed507d67911d1558d786fa945262715a410b735e3280faa32ef00cb623c92575b68974ef46bb9d1eba7e5a51372def312a3910043a4195053e073c10e0c91eb57a1ac7c152199c1bf89231c5155a378dd73f69f068d89dbfd092e28aed37de78daf8f996e0607df83782b6213ef5aec52d2f8ed68ed99b37764179c4dbc26a65a078c285a6311c0321b18195eb0f5dc4e026dcae1f5bad8d1ef0ff521d868aa5a3d35b31c0a21a2e716187061556f9ac525231d1da319e3ec020efd3ab5b0aa8773ed38ff72c2f11b951b27eac04e7d416cd9b6e485d6d0a387cf48fd4d8e235e7c4bff0df3b74d004ea6d627bb186b5783a6ff8e0dc105683dce18bbbe45ed7da4809f8bd3af9e0acf523a8c4320392a9df5bd9b06e5e80e5d117595826642ee35227dc50dfc7264b96c89a07dede06eb3e4ace9262c452c077249987d918df68ecbfb13521414e9cefdfe7bf54f2b47ee760852ae92e79a248c34889e230c3f0abed74bb8033484948bda0ec4d93930d15f5d5af59cc27e61bddad4c45138a4370fadcb1bb935a7f7f283328cf079a945c19000c2d93bbf827eecf2e61fc9618109ffeaa23914cf535a2fdaf475414194df3f8ed2fc806e6da22991097652959c5dcd0f27511f8a7e62106ebb3a4c45cebce9982d2b3039e21534d55c2423b86391f69f15d47b12dd8f9c7692ba703b3e3117a80a18bbb851cc28aab7b0a5ca2cdb34deebbf359e1d91896c809f07768b69c84717d58b4788cc24e5fa18b40021e3f85dd3aadcbe9ed317a96258f6c8e3ea11084d8965148f73a3bb9f985782e12de4bc57360f421cb487b36f0a15b96b400dcfee4d390610777712e162828532f2a10a2902ae2114f9019fa83f4b62d00178bb0fe44d6f52e14d3cfcf435a23594dd940f1ba0af35800e9e217050246dcf4cb64a94c3c116f11c18cd988fc2f4c0a3a58c5dbcaae25f31e145cfc444b64155da5b181a724d75788e2d9d80445ac470f6ed6423e7bd69ef18932a413736922f8389a3a2657288b2546c836d08f74c974136ebb218aba70812a0c335de7817b9aff791da6f1e1e474ae95f19dd07fed20e39ffb7a1e0c18cee7f863dcc054b19c61b026b2a91729b2d58252499d745ac13c6ff1940ef694fbe8df0e3a4d36c378767e07945fab9ae88b76545487f458424b4e10d14e543845713b52dd41439f91d51e8bae829caf78382351d5f8df50d67a988e79761ac4770dd608cb879179c6aa8e74ea822aa461f1ee5c271742fa920928a76eb3a8a298d4758c67359564d4f829f63bc656e0f019716856423400b4717abe0e38835a0f7601f8054595c674458162b05fb13c4bb3c04e388ccdc80f38d3b38135486f79cbe42fb4ed92dfed2c8fd8b3854c0e826eaf86029d34be8da9989d0a4d8fd74dc6beb1eafd2fac4d81ea2c3a4c1a4b07f7a6ee9f0ac8b9b45894d72eba56ea757726358063cd8695c987cf70863de986d2897bd815dfc9f0b089ca34f6cbe5f306cc243890d8420eb0c29d6f963db02aa490f6c9501417a6903e2d4b883f1ee2eac532839cf639c9c393e84b9a7f2a7e70f48e0a6c97f179c2bb47c9d8a344cd92ffaf93009773e4791846b09e9da1ab1883f777883ccf503125a9d2f4daf5734c65e7ffe83c61a0693e4689d8a21c3b008fa3d8af154eab7d097b2f8008aa775a5e9f157191311cdfcd8117f3086a2fbf5205ac7532f653dcd489d16ba58144fe07d9db3be3f8a26397b636d7142f706c73a7a510510edaa4c6f98d17dbfcad9862cca74cc74a6302cb65c0630c1feeac5f53bebe1cfbff09024c39cac5084322fbac196ab53781f324d3375aebd6bf7a5f4e04262ac364aed7b57cc53f7605b744207edc88ddf82f1311b3ba6d2fb11daab50c3ff096f86d61218becd41ef6badaa6bab808a04e6b40415170c701c80c54dfce1225039e3c531f3cc345a39e0f40a561581ad9b318eba3d4c4ffb379456fe524047d60b98e8ba3b0bf4aeb426c866f05cdbc308bebb2a964bfcf46d67f54bfe3a9df14f3e39dae7d945ce77c99e3fb077147cdc43dafbfa7eb17ec51782a6b659f0de270425ae3f638b620917cd4ba366b0cedc4671ebe1d0faf68c706fd129271ad44ffbf43397cb7cc829de19848be3bfbf89fe1f1ed679d2d64c4e3b2f7c444e21c9f39bae170827720a105d5401d81e37c69a254e0da38b6d43f14f6ba4873f4481bfdc107c6083b3816c056f0185c56a492160b45bc9bca822788f87612a30da16e8e0bcf00c0c1b5e4e56b02e1451e15a4ea73be62e7432b3689bd6e3928c6cb8d8f83e1d79e884254d49a635d8ed930e503be9aac40eb8d401ab2198cf436fb3c6ec43ced3ea519f254aa6aabc27228c22f79121f81923e7cc018d235bb352b53fcac2cae529c63d999753c1859d46337feb095ced71ab609fdff182f672a9ba3fd64df4e7cc60dd718b7900595b3763ced86dc6e52e1d94933d35b22352460f0c54581778f0e980a2651d45259f717016c83d7268e3b2113870a2d0bca6f37a24b5c9dfb15d46652f1ca8df6fb2e047de88fd2f90965bc7d224fe9a999bae02fcfa0823dd0475fe6d2c21bd539e9cd9f63f3be6849ca30ba8d6e6c329e94e08a00eda9b1d6746f45fb6b1555e436adc96e9caf1989ed6464f855bfbedb41701f4d36f54c423af68355ae720a20114e5dc92925d3b7148877656b6bb7fb4ad7e082d5b5dbef56908b1baa1909b3323d411ea0ccc739048c74d54e7388a8bd0f8d5423af99d8179430d7656aa394540cd00462adfe542e4b4950f9d56a59eaf5d5331f27f73b8befa42b33b1d39cb475fd8bc6945139a3533dd38fb3cbd6b86a0b1cbc7a761a2dff5ba182928e1806d347fbc340345d81ae7c9119cbf20eaeaf18adf4359c2751964319c329a7c9980dc1527783ea487bd2509c83a04f810aac83c71a57acccdc29c30caf4f52aa28f3aeeede4d8a48bf5090233d755b2cf93c7b12439fa3fc42a21d5d2e86665c40ab99705a04f322279fd3dd8421bbd40c6bb13207f814f97ca3af79871cae12e00355fe59b4c20590a7a667cab9ec43982dc7784dbb612f4ab22ca6ddf918d665a6892c2deaab51a4a2d6c2d61ad15268ae81b09ace9a92dde098c4f9d89bc2d330ef41bed74f524ab4f21c60bdfcdc7f4f1fdffa0adaebd8d8fea71137865afdb0a20e44964448cc2b6518563ce6b1e69a6b9389aa5dd344fef7766e9e1a234eb91ef9fc3fb525ba19f8b0b9795200505847a7ac176e94a4c2c2bf384d076da0587e2f5e0727aadf3aa4489b3e250ca695d3ef42a61da4869256ff5ffeb8c21c24f5ea37270d4135be3ad0e5929fb9c14891412a696b0b64e3c61b785cba300d912357aa88899a5ecdcd9d09cd959de4de67e5f48f41fd041c20b6841b0a2fc3fe473a3b9535ff0e69f3c53336d537fda6505bb3bb04f32c912c1daa1b4b55fa9aad4b485bfebdf146e720c9f47f0904407715dde49b32d9e4355de832543fc51378ab7bf05536a0799873b621e687f052d4e60e837f5f220f8a66a024a49a0cda68f9d1afe66ffce002911d0fc4b282915d2255c37d8f4c50df5edfd36f7d0dfe09b520267c375a9525e4d0998627dc635e57c926e27f68f9e7a8ef50cd00379af483d1d1eefa1af6bf283a989d3e7f9f42d4d478087d872bc3aee370b4249646a8b1c49227dbf6ff19650a913ae22e92b5467bc14930fad52bc8790148623dc7810a038b0748b8609c44fcf64e570b50f55d568f479a5e38fcfbfc91235452e4de6b9264915e2a386a6a59210ff74891af2a8b719667d9dbf61091e91b68ad6b89a3136145b7b7c3ed01a1a18ea47eb3ae6ad48929c4dae60f254d281ad0a66bd5dbb84a661d1f33b3869363809e87114efd52070db96620652074574445caf3bfb6b091ccb22b1a8a12bc5b1cf137407db90d28343f77149926be3446ff93f2973400bf95402a5648246ac70b4abb2ad23e63f118e88ad04f5ea5adc07a7cb7985ec684e45fcfc18136462d6bad33a3068b383f05f2bd55f9fe1ecafc856387b519491554e65b60334471b3b17f6ca4f8a708fd7bf65785b1d095be8499fdedf7746992cd516233e3ac4806a687b7d3d1e0369430cf24024f9ad2a5ba5badbdcbf5996fd8c45dbb022dba9868ba68e07abe85292026f9b2028fc61ebb44d2322667b464e8da9ffca0dd7ef975e73aa2f2097876a70ae88808e40280dbee372ba27cdae53b23f3785f8562ad84b8bde6d61b023640cf272a7ecd891edc63e602e21d0ca2162f880006a2252ffd9e9cd232680be91850dfc3f1fd8881714d0d2046fb1f0daebab9efece017ccf9824420839c8f76dec3148beabddd0129feac27403468104632d042f81418e1da0d0e44326a118342500ef44df836bf2dada4b2ad0936ced183898f15ad8f8cd72c64c7b4b41b50905f28dc7d2c4e277f2ac8eb072e6b3aff4b236d17d7f5dab5fcf309db2ac76e074c271738ec23063dbe9b343392d63609b14a5604dfe626076515e51e4beea6b82b1a0e5a1dbf1e96297c18dc7b9c0fc58dbf6802abaffda7b766c5c3bacfcf79caeb8e66d364061fc1efa177baf28b0e6975a5400a8356052704a76f6401437ef4efce9a7651ac5c41be0f9226d03ffd26f605c2e8ef41aed9cb5b2856bf7540d099c78b1f970cb09214ab7a3e8201e743f7b449af4032fa23558c5083ec4771e2049db21dfc87c9c9f52eec823423a59211f19cd5489043506864038a6d3838b2adcf222da9458b73ab754df22fb678bbb836fe69a738ce06a3eff382cd63a8569f1a7c8e58562e0f1f713be64c768ac97dd6d4985f4b81a63fa7b9abdc8cabca3f9a9cf0b371089bc3aed2d353a45f115e7088fd7a3f49127fe0f7542b880dc6b162a45af028c60924ea663b322a7e1b8416ecce6530277ebcb53c20d3866a11c2f65abcec5eb14be80] */