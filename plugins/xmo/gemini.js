/**
 * @author Merrick
 * @name gemini
 * @origin xmo
 * @version 1.1.3
 * @description gemini聊天
 * @team xmo
 * @rule ^(aigeminis|aigeminic|aigeminip)([\s\S]+)$
 * @rule ^(aigeminis|aigeminic)$
 * @admin fasle
 * @public true
 * @priority 9999
 * @classification ["插件"]
 * @disable false
 * @systemVersion >=:3.0.0
 * @authentication true
 */

/*
使用方法：打开https://ai.google.dev/ 获取API key并填入配置界面（获取方法请自行搜索）

命令说明：aigeminis是单问答模式，aigeminic是聊天模式，aigeminip是识图模式（目前只能识别图片链接）
         命令+内容就可以触发，有人行的可以直接回复命令。

如后台提示"User location is not supported for the API use"，请尝试调整梯子

v1.0.1 优化代码，增加单问答模式，修改触发命令，界面增加Max Tokens选项
v1.0.0 基于sumuen大佬的插件修改，本人仅修复bug和适配2.0界面
v1.0.2 适配3.0
*/

/** Code Encryption Block[be188605b2af9d5e9f0e7db22a9634fc7b2de4c4d59355590ba25432c57e71fb606409a9061e9a631c4d45d21ee06bcb1479982b43151bd7a7a4f93840eac37eb1befdf3e99382c7ef0612e25d73a7d9b84635fe12c26a4584fcf70760eb303e02dc3f91daa57e3520b6f6bedb6126518afad2162cddf21dac3b9c0d60f3b2dbe31fa0b246ce9aec2b678aab35546c73dcb882300b845aeae8676a25332f67644f5cfdb9a20a502e272fd5775d423b90b7b1d63558b9e7b69ae9a385e2c48d5a7162642a0f917b8f42ec11a3343ead0b47f96c7647ff16fe9aae4f1bb93651980b30e7460457dc98f386df6857c3f59c39827f06687ff305a6893cdc8763f2e57e42b29ca05b948c1433d16390c7e936ebb022b93e214440c8475d1f32317d091c5ad4f1d8667d95440eae12a825b9537b7d61864d125291dbea6f075e3d63d3d96a1ad3d55eba1f70859980656b43d617418448d334c509a64c65dccdb2f1bd4de13b6b88b47df3d7eacdc5170ee99c3f5bc09d70d1c5d10c4c32eb6db9b699823cb0b2cc4ddc3eb2fd8473a740b5acaab62d9f2d20b0f5497f2bd2b08452d233a46fff1ed5035ac42acabb4fd6aaec7c61531d1321c86490c7c29eee08802c026ebe75b64d3ee856edcbeeab8d20610beb6cea6648f240d43c4723e6209484486bab71459f655a4705a16721e5009b508828794f147a85fa751d831fcdf35e10e3a27183a4f2ecbac079ecf75cb68d1805fc406dae4e6cf015f5eaa2b5caf3f5c0cf4ade997dd78f49f175ee71e6a321642e0b95f53e84e565a173afc2869775fc2127475b63188aec4b7ec5f119087208ea5f9152c78accd5724a080242ce05206c3fa12d52d5ef8ed131b80f517e477d35c32d467f6c97218688a7321ad533fbcb814f6d1a5b1c402a4d64bffa752db0e27d97aeedf6b2374ffe39353327b25e379414696666a8b6ca0494e07daf52bf3a8e2f19c7c760d7abf72496cbfebce2734cd1839b7228041c8bff69d2939a98feb76801e5513859f7a8afa6716ac74b2aa47d75cfc020568c632a21026cb0c0f56427ba7c36ecf7a996bafe941b649abefb0a406d325ff0df134c02c5ec667dbf8af257cd84674b5c56e1c78443494bca0fc2783b13a14f4df15b7423ff8ef6bbe82bd5ec372fb8cb710c6e26e7eaf38e083880e92fe92c0d333f6e9b73c367d540a61583c4396cf601a348bbb0a4aa5e2c310a8ad8d54071287859a315bde5fbaa64f384e59dbf94eb54aa534a875e7b62d2c797220c91a9d71a596711f7e13f262ea42c1c7cc68807bed1c5704ac945ffbd9235ca4d032d1ae326f67db00e2bf8c63cb4fb5caf8edc3bea719595bad57d50852967cb874ab3b1fa55f86a6c0b42f989b98f7f17d014f7385744783d4ce9e4bc971641c538b9abb111f8bc8d9717774c613ca9c59954da1b16719ad1eed1325ba377e094223970db73c625c15a11c6111cf5679b63a38905033a19507e577ae6357eddc434a7c2c490328dd0f4a9af26e418ef5e6020de1b8eb1ed9ca9b20cad378b2e576f816cc01503c55fbd889f09acacee44ac67182607c35754c9467799b52800cc5dc0603c135800828feb916a2f310fa6ac8df22955459c9dd68ff35ec9011a5635ad24a6c39426298dc89030eae67999383fd1953c0d604e7c144ab368006aa5377fa113ca79b4067751db6d6e40c5484030194843ad58fae1d9aec75be8344ca026a973ad7b2b9d08a15acfa0293e22e651b788837a177f6de643ec6aaff6b22b473e877ec4214eb7ecccf05e750c17022ff4280767d5dbe5dd4a2f1978eaeb11e894c4a4b6e8b1b0739bcbd778213b87d2843f6727b8ff87b1a067fe869452b397026aa980bf2ea072f3d6a7d986abcad533d069af089f95414644d8b40345144c32b481d5c8617c6e6eae09baecf7538bf1aaaffc9fc371a52d6517ac4ab3658410ecdf0ef138bb306e7e7fceb5220dad1cc4fcd9391de162ef0571979ce11e3b45c209423790cff35ef43ca74a62f6c2a4b04dbbff3c4d946d62f30321bbd93fb03e977b683517d457d673fdfd5c00b501853aebdfd794187606fa075bf1bfa45ea2254d885a52d575cb775c0e6d936e1e8e0ee4a3dc7537e56e6ad1e06be105613ce5675b12d85324c40cab199217478db63e88cb6d31962d76685f91569b8e49be4f3516f6f25d6039620dccc0970b7da393dbe7f578c75a358f3c5b6310136295c59571b3f3a78e804f1bf29239c0a987baea066d50133c2d33d39bbf9f6495a3f8b84c57bf97ed9d9ad668be2fa62520aa1d797bdbd576124176a9d4fad7710f5490b872ddcb33922c4b59b05f4529205b4a3d7c8478c8b8156641e85b2663ed40b69c24a3754d05c1bb2b7f2607a29fe38170a627d1eb346492d0ed2a8343d6b16a3f2b073198841c315607779eeb88eedc132edc35f16d327efec00bcf9a7f7766bfe60ff004861602cb236d3cc99e7ab21996b7004ceb0892a9f25a2688e1f015ae1749c83a80a4a1543282c87aecd12dd0c4b91e23d70f4d476758cc08117f00089c195ae0c142d3d9d3067e9d86b2110a9dee8c5a3cde7da3a9a63d477d42a469f65464a97a1a00a0f411b9f444e8e14ae536aa261c8ebb50cc7b6c33d50b76654886cf9cd2c2329b4eebf4f67010af4da49d4cb1caaf2fd2d2db44652becfdf64e70417e0c651ea903342c764c3b036f8bdc3c6d3f5cb66c2c7fbb0a4820daa41b51afc8dc5ea9555ca6b30bc4eb726be8330e4ef82d24d1d3247dcaad51fdb00cd746d74c7fa94e0d39c06ddb4114b08072573f0f0a0244fe62ac88cf20ddcfc84a66ed220e420981db835fab26656519cdc408d8ec3339585bd5838f79b4121e9383c3b1780ee632d4d95c63ce64b9e1dbb78ac1c3d69e7f8bed59d652f7f203879693764acf132247f1e3cf46ac82543c4b21767251e7f5c576c1197e41fd6f3652377d6d6f12a49de0965c8ade277f9da8187096c4e6f937a32641e109f0474f181420a746d23d687fc21b76c54709ba17f6834e4e33fabdbb8ba766192d13236c372b7c2f820e0cd6ca0946d4bb685a4ebe2478087cb84675c9c5f1ddbee94e2a904dd07b7f1ed859134d494ac4c90e4e0fe351800d312e02b1389a691d49a394a2ce698e2fe0ce8625862a0ef359588324b31f31d6b8da07dff34a9125dd58fc0ecaf77f29129d3bf8dbe779e7032887b090653108a53d984d4cfa0c7521193d8c037547075013a2ab82ff7941bbdac401154463f73715c7807b792bf7105ccafffdbbd8364a2ae9b8f4e672efb3cbbad529c839250d3cc2ab604169a903992df8759a3ab4d106139bea912e26ab2c3ff20076e431a184a40fc13b3c379f12f20346e4fbb80ce1d86192c37cf125e546c9602622e6778a32a07ca34a814b4bd022737623c70f10c165325177b27875eaa2f42d850a5d5ec4c92ee7713e2ee813a4ae0c74d9dcb26091b341bb75d3c3f585a610f1b6b9f9bc6e44f7ec4986e1b74e59171e5b6f960439ecee4b8774b54a3a4ac4e41f6181a239b73fd6c60fce1e18d74985073ae4a461525e14a4bebe42e8d37cfee1a0fd2455a7d842a037941d84ee69105f518d932da40d6882eb27095303082e1084b46fea3159e4302716f4563a52b61ad2c99f229141f751b415bc4928a5d5d975da83e64d086ab563de712a4a5716eba7c291b4fab5438743ea513826e3441a59fea7a4f4090a6abc492a59e8ddbcc9d61182a6133e2789c331409363d35631893ea9664249ba04f60bbcdd27ab66183aaeb12cdc04061dd5dfa3b2adc7d0306f018f5c3c1902470f8259dad99ca058b3668fbe57098064edf02b193cb90b1ad9c2a11232a0791470b44e98d8e9711c4961604a6aacdff78b6e137be18268fb738f0023a3e4dbbc3e270b72b24a9b8c77adc537cf3a1fa674e50f2bc225948a4701ed7fad2fe0da3192de71bb630b085642f4be2f78d6cebbe4c292ffac7008cb3e76d4e053c61bc97ba4de10122fa3056ae85a760624ae36207ec7a35cb278961868b01bcff6653ad542e4c4ad37ff7d49a26f53e7d54c027abe9ce29ed36ba2d3e2a3ec99839c14ada4ee69e728b636432ced9af9433be13bc295ce24dcd4f49dd1243d385790d8385f928aa20f0a41d5e193d7b8f3e60db8ac486ae5532e474c6e5b8f29ad4c97617ca1e45c1146f36aad44b37b7f5c8aa0259e4ebfbe261ac4d4342b0ce21ff13a1ef564760d428eb84c041c210d70a781ea9b80f033436b7ea61cde31d1f50c8e1f4afe1c05ac600c1e7058284b6ba7c028a8cc676c68cd1ab0f00d25be8c3c1b113fd56222873bb0d040fbba5b99dbe4cb5e934e36a18e3ba818e9df254e6c998f90202ae0a3113f6728b2e57af836b305ff275f209cb6d07599a74519ef794f756f5274d9e8e76ccc955e502b10c550a21838c6af009324764a021efbe5ffd5aad7d4a8a645d02ad2c2b2006124c48e14923fc4f2f624707d36f3136b20a436fb8a508f1121d6062e83760ce31cc50f3ec4db5f479b44f34538dcc9899e3feb607b0ad80b94cc0f9afdabff820735cf31099e0eec536ef35cd2836cb5804dfd06c56f0fcc69a0489063506a80a8632403335159b87fc19b9f9de244278235fd2987f803be8f1680ced9e61b90d29437cc86259a4e6dc99b311976f0f766c8635875efb8e53ac36fb69904a2ff929daa8bf910e51c21fc37c29c11d2433bf8244c94ec6cebeb850e0c0ea000318df65642b53edceaf5468717692edf0aa6e93e3cd2dfc2f945365c30c40d78ce57299d3880bbc6528714a530c16eaf9b03f2cf5c52412887d000691337084711726b27aec8658ca7030b3f9cbc4a47a5d0a61753ddad6146d9a7b92524121014166fd20fa253cb9a6a47fab6f13b0d1248253d411d29de531423d1625d168fcc518047dc3d66e0c0d6f29fda3b1b279c247797adc5862655b473ee86d162158115d2ef52d7eb58c73375408fa510c4bfc371599b052819429a1c4293811e50aab439f71decf8bcfd013edb2e663ffddbc105be8eeac858246faec4745a86aa09dca875d08b2af0b0305cde176e3d0f759595d19eb88d6dd3b1e1614fa11b500a76fc987edb846b4627c06cacb6bfdc2ef217f5da1499d3bde04d0577121c949fa3ab5cc9b6250b937dbaaf6302b90290e9212abdaf36e5b41b6797c6f523e3e5f015c6032745c0388d1d1fb9f22c6213a1ec7ba8a2b4347df899d958a3df571bd65cb65c46e8df14490915056e72fdaf71c838ab633b5222e1b2ff2ed8ed303178689f7b26986ee03b5588f700b1524f748bd8d5929a53da45c9ea8e7f9833ab36ed3541f7bb465eb5e6be8fe588aaf735ea7b746bfff416705f39b5e26f87c65329a9911aa6defcb95a3b9112cde89f56e680f4a04e7d113bd64c927d1044ef84dd8f3ee015361d43cc86fe894f32b9c2a8080efe48a536734ed73c2080c11d6a6cf28aa52343bb7fcfa918622134fa78177a689fadcc1a110adab8573347039c1a7a258cd8bf6afb7ce16f90bd36688dca47ce514ab5fcbfff6a1164010b1bc73655b87534cba0d9fdb3f401193dfc8024163a531a299cb628558807a1421d4e3d3742df179017db7fbf15a0fb7f9f973b66b1926d40accd96a18bb3cac24417247e2cd1542a219774a67c15f0fb2e4361f8d1fc985deea6222ec818c95b183e86e057a48325339cb41865c5ea3d2cac505581443db902e0183a055f6ba003004949aaf6e9b6f67a87a4d5af50745ca3be84f8962431064305d25ab84b30560ef271a8074e98c761ebfa7e9db67aed15006e8bdbd28cd6f73cf80c38c285c0112e5264a619bda373e986ae054f5f385c53fc2c51b0a551ab282fb1f9eb99c87f5f1bea6cbc96489dd5c9798422ebea1d0662617b4d72a3d7a532244489c57564cb337a85fd8861306fd4212e809b4dfaeab05e9d599a35254db513674645bfe6bd3ce7a8ce42505b48a0c2e3db692f9a557f45eaac9b075040195fa04c0961d5d9a06e88245e8409a276a4947af16c1e3d6d97dce54d8d618b80d9de1efd1cf02886fc1a7a71dc67aa15cabefc06f7f5e0df290d14c42493890470839fe26668ca53d7a90b1cfc254dcc8c4f545fc2e62382b8f0535ddde9d64ef00bd9477c4e40296442e69618e5640ecad80a3a77ea3c3a9603814ad6864e029198768e5ec79b16ae84c9ce5f3ed87d5e9ed1146d21c5268260163132303335748190e756e3af854b29beda7d17c4f30ade9d19e8937cdcabe2f8532c682d6375134b876a54b6fa971dbf364465671d31bfec758a047da1ddec948bd482c1f84661ab13dcaea52bbb7d0bf4578778f03ed5d296adf10c0743c39c098aec527c14ca6fe53d231de14c902bc4fa67324589e731f51b6c3d569826706aaf1ef7c1e686ab6779e9975ec40e5399bbe10a3a1b7a9516cc75ecbd6e5e727726d3d6674cdc900b0197ce02b06f654d6a079ec32dfe06687015b5cdbbef358f4f68b741e6a8266cba8ba0f25fa232af6e24134525a0b5077728c4d4b8fd7c8083123f0ad69a61880216322a3e41cf9c2c4dc47a2350132e54795258fd53f5ffc167e0f6c574f21b00b92f16e208292daa431e5be3884c1ffc25f9e7876b9f2fc738bdca97e9a5b5dad82e205f4ac5abe5ad8f23e8c41c0012aff27581c9d98095b4f89b3f3da81dbe769aa5a6e40f5b9f961f766d4a04bf35cbbf8fe17d031bec9fae58e5269f43248b640ac013003fb66124fc01b50e1ab0f919217d59c8320bc84caeb04a2ca0b51827ab392a91a602bae672a08a066d7ced75592763aa1ae3c8739bc953ff5a6545074b7ab9913cda5ec672bfc276b1fe57440f2ddc29eba76947c23ccc33dea769450926042825d43b0334ed4ff08b03b9f97581bdb72691c25f777aa66bf3e16d119ce59a4f5d736111b964fea5cad4f7efdc845e117f60f58f60250f290df1c64f2cb48a11c58f4844e47fac5e30eae627e02662ccbea4a3e479e707274d20f0d781b54a212072c575898f71df7dae960df387afd8269d9b802c868ca66934f9f7bedef1c3b5696aec28c39cf5f421fe8efc34f461031d5560e8965f4e34a7dc7eef61c60935e29dbe0574597fd78486e27895ebca30a385c069daf5bedda7ad1f11a346cb367613b2084b78085b41fb019862e830b883685562d3b5d685caf5964c3918b9445cd082b1f0e81e493795247fb9f0a736570a79cf381367e200b8c0dcb2b04559cd7ef823e8ac9336c9a6c39216f809f024a79dfdea2468366ec3398988b8c67856928f0ec30545b7a5523dbce58340cb9df4db49a1135e19de473d1fbb9bbfff1b1a9e42d27fc735168946056f2ec3c8bede48391aa3ab4088ecca36449724bdb9c83f2c39d258cfc337257eaa0c365303752887d06e123dcd71e428c01c3d8457d3cacb47815560c11f7df4f8ca51059b5763e8167210c2605e51142edc5245f4ffbdf7ae9f598954b04ab56ad207a17c88a21d926d732f2a22bd44b85dcabbe9eccc8ae21aa1308879120918e2cda6185f61ad422a7ebd323f7f994b2abb28b381390522eeda81d2caf7a785eb25dcd69a5c238497a67fd1fd113bac4d971e5900379d18594e0c17527f03ac030996c934c6dbe846190e5bc1bcf775328fe20abbcbc7ab04b961a8990801cdc80a9564afb58debe362985c650458226bb18d1883fded4509dfd81bc08eacf040348ba12235c5baf591c795243524a21e4de154c254a16035fba578fdd8615a2d7e0a3c3aa15a889a45308c82135030c834ed619102cf0b03f5bd86aab24bd573c751a4b83458260a7ef00ec516f72f9f20d7ce60b766d8755282f8737f6a6db0e000499a923cb1de974094a394cf142b5b5a1c558384b40b71e87d042a7c345ca735efeae44e4530ea5cf739a1cb4ae13d4e7c8824b4263fdd1682dc7b8668e41ddb7c57c3703f937698ac449fd5ec8cf36d6a2a0cbe709a65a9371b74b64bcc464e7e2e8d544fa17af6fc350246dafa2ce2efd3fa52399803f76e7b00670cfda621f5b3d961a0af8d2ddaad7ee3076a9c63ca6a1ccf8624cd51e06362fbbb5d0eb20dbe2ee6ee563ed3552cc3d6829160de09bddd649bfef3886baea5ef058dba9b2457cb7de527e502962d5927408b22d90be04ddbc3c30c6c13016ab2a95f7b6dd7b9e0d4f96344d38d4176e634d2bfb0977be366772e5965c712ea46d1d153e13d2ad3f9690df57842302436d11366fe5119fd672e70d66da5ddede989cacf67b1f20cb80659994c92e91a21089c8e3f7537f079be76f79596c603eab5c37cd82c3df14de9f09b1b9e77ff12a79d89fbed2f354e2ff2e011798e8a70c9e9781c4504fe169703ec58e84f81b8c8077bc2f5e190801d8216de09e81cf0d3477fb016acb10c3debf53bba3f24daff432effd7b43c18e8975464b71f6a9270c3f1bbc0b809fb5b00477403bb4a1b5369f5565d0ae661b3ad4c9244fe7e02806258a0e4eeb849d118c205973cb1d442f9c1bb7d4e4088158fdcb32be496854b0b4d0a43bd3cdd4d1dda2acb6960d3fc8e363e03e56f94c6ae521f6c19c5acd610d77c49f1be724a66e4c8376d435e228ee29a099d7077c07a973dc6f123b47ebfb8652da17726a2c40f40e510a07092b4fd911e374f199c6014c00a2d04508afa9b27941cdf1e4cd47eb10676c8bd32b2f620872e687d9445619bed592dcce2e65d8274509db158a64099a9c685993ddc46ebc598bfda6fd67adbec7902650ae05dfc62ca03ce9010cf70072fffe88e5ace868a1e2f6b65de99f838e5070c5ec931db17a0d1dff326ed8f908bfdd88aaa1de0e7b2652b824ddffa104fe290b012d9987fea9c10e26223d5e83eedfae11dc9a20447bcf89b89d8b2b5605467f95969f6406bb393e4ae41e4b7e30b2ceb276bff79405da1ea1dd35df0f476d10aec90d7a35f423b87978d17603d19662a9bda8c48491f12f5c12414211847a0313b119582e4148d1144450368f126e96ad1086d840396687abe9540a6aa30a15608ea4ce496af5691d9d7f117a72d1de5b34944a8fff3b1aeaa7e510a18cb3d5cdefde7b0e7b786669e16ee0d37b2b368bbdcc1613fcfe18f4162d5e2450a67a5d5f8d2dc5d9e579cdc0f5f554d29de897574b566b70826e43edbc9a2ec2a2bd7588465da1e55313fad564e492d1aa20fa6b68c907e95fe8cb1e8d6c0ea03711dd571815bfa60627ad56206bf319de2d936249e4d6b8a4a4fd9143aabd8453c1b90c6da0e5ba26e99526a266866b70c9a1d615ef198841eaf6cc62db9917c418fbb1574c9a0b8495a3d6afaafbcc39322038ea908dd33d4f4fb03227834d7d8e7694dd8d2a3d7a3d7c63c088dc0cca4a60ac7281daebc99ed01b2e2b29263caa68ee4d27bedb25de8b18f1a454b1a643fca09d95d1a20a3b88bcc4945ede79651005c06b0331e476ac8470b59a944ea6e76a85231a3e5e295636d588e6fb523be8359d6d16720dd967bb0a544b1aa43d7c251e12734e49a4da9cc11499c803843d16ae1927715860b4bc75a2978cbd68915b3b8c609ec0ca529f8bb17a8e73ddc02968730a342bf411a2b4a44e693607e29a5740aec96909b48e06e62e7b9fc51fea258a371a7e8f3e587c3b29eebf07a5be2b551670667f246cdd81cffead0df62f761d74953387a6d0f32972236abce8959bf70d45e0ad29815ceb768a0739960705fbfa3f4918375a7a802ad3c32c0f0e392e2f73a5a6b0cb59592f3ccb7d66313ce6e530bf10dcabc042ae30e862d91b3a4f8a41092243f9a3093bbcbabd45489c16e15bd66f8a254f244c1f15c5eeacda5567015b97709d26c28228a6b0fdfbfa8da24aa48a3f50768d957d60b10be643ad4bab32edb4fb185b6ddd7e1407bcd197464c99198d9c0a8a4179659df528ae626192453083f16e23563daa04c178843f55f0b8ed47540623ae28d899ef7c78bb63420ac8b7bb3ca14208babfb96c0ff6843e07a21a0c3409801dc8473e9686317274597af53a3ddb7dc3a7650dea193e389f59387328a63f664ac491cd753b1cee0f231021620618003bb59d095771393fbb633117607e196f796f3c80ab76b3e49ec688adf1e68c4] */