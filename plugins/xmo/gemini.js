/**
 * @author Merrick
 * @name gemini
 * @origin xmo
 * @version 1.1.2
 * @description gemini聊天
 * @team xmo
 * @rule ^(aigeminis|aigeminic|aigeminip)([\s\S]+)$
 * @rule ^(aigeminis|aigeminic)$
 * @admin fasle
 * @public true
 * @priority 9999
 * @classification ["插件"]
 * @disable false
 * @systemVersion >=:3.0.0
 * @authentication true
 */

/*
使用方法：打开https://ai.google.dev/ 获取API key并填入配置界面（获取方法请自行搜索）

命令说明：aigeminis是单问答模式，aigeminic是聊天模式，aigeminip是识图模式（目前只能识别图片链接）
         命令+内容就可以触发，有人行的可以直接回复命令。

如后台提示"User location is not supported for the API use"，请尝试调整梯子

v1.0.1 优化代码，增加单问答模式，修改触发命令，界面增加Max Tokens选项
v1.0.0 基于sumuen大佬的插件修改，本人仅修复bug和适配2.0界面
v1.0.2 适配3.0
*/

/** Code Encryption Block[be188605b2af9d5e9f0e7db22a9634fc7b2de4c4d59355590ba25432c57e71fb606409a9061e9a631c4d45d21ee06bcb1479982b43151bd7a7a4f93840eac37eb1befdf3e99382c7ef0612e25d73a7d9b84635fe12c26a4584fcf70760eb303e02dc3f91daa57e3520b6f6bedb6126518afad2162cddf21dac3b9c0d60f3b2dbe31fa0b246ce9aec2b678aab35546c73dcb882300b845aeae8676a25332f67644f5cfdb9a20a502e272fd5775d423b90b7b1d63558b9e7b69ae9a385e2c48d5a7162642a0f917b8f42ec11a3343ead0b47f96c7647ff16fe9aae4f1bb93651980b30e7460457dc98f386df6857c3f59c39827f06687ff305a6893cdc8763f2e57e42b29ca05b948c1433d16390c7e936ebb022b93e214440c8475d1f32317d091c5ad4f1d8667d95440eae12a825b9537b7d61864d125291dbea6f075e3d63d3d96a1ad3d55eba1f70859980656b43d617418448d334c509a64c65dccdb2f1bd4de13b6b88b47df3d7eacdc5170ee99c3f5bc09d70d1c5d10c4c32eb6db9b699823cb0b2cc4ddc3eb2fd8473a740b5acaab62d9f2d20b0f5497f2bd2b08452d233a46fff1ed5035ac42acabb4fd6aaec7c61531d1321c86490c7c29eee08802c026ebe75b64d3ee856edcbeeab8d20610beb6cea6648f240d43c4723e6209484486bab71459f655a4705a16721e5009b508828794f147a85fa751d831fcdf35e10e3a27183a4f2ecbac079ecf75cb68d1805fc406dae4e6cf015f5eaa2b5caf3f5c0cf4ade997dd78f49f175ee71e6a321642e0b95f53e84e565a173afc2869775fc2127475b63188aec4b7ec5f119087208ea5f9152c78accd5724a080242ce05206c3fa12d52d5ef8ed131b80f517e477d35c32d467f6c97218688a7321ad533fbcb814f6d1a5b1c402a4d64bffa752db0e27d97aeedf6b2374ffe39353327b25e379414696666a8b6ca0494e07daf52bf3a8e2f19c7c760d7abf72496cbfebce2734cd1839b7228041c8bff69d2939a98feb76801e5513859f7a8afa6716ac74b2aa47d75cfc020568c632a21026cb0c0f56427ba7c36ecf7a996bafe941b649abefb0a406d325ff0df134c02c5ec667dbf8af257cd84674b5c56e1c78443494bca0fc2783b13a14f4df15b7423ff8ef6bbe82bd5ec372fb8cb710c6e26e70bf0a864907ffaebb682767485f750037f9b78110796dec22d825d6dc50ab528b40c348d1f6f4f39a14b7f85b973566b2838d4d8c1c01d93ccdd30ec7940b3fd9c0dd419fe29c633428a75ae0b0ca78587c72bd16e76599fd538a35735930f8e3c56cbc93376197cc37e2ec74ad7e34d133efbd9ddf569e40e838749a95ec4af8bde8c35ec31db521c3cb14ac3508763610cb2f0f85d7a6ff8f6eb22ca72b922c2bd68c4bd708705e972d35ab1258000477f1077ae1a582a644a88bb10c4cac968429c5f5d126e43b0f2e5406d838f513e7478c7ae5b5187e823365e4ab0411914fb72f2c9694c2ca7542f6aec010ef7d169d4aac7687ad2d9b3797b1bae02b8b7b4783b75614f96346b44ac0008f6ba3890fdd877e2f765649bc12fd6e16d58b345b4f8af26db97acb653414a5c38e5f2437a2306e52a79f7660df0cbc239c5383b833e545c1228b53e17c8e771a8640241b469b46ea68b0298dee30508b9b50dcf2d5c94bf00035a1eb01a154b6a33474a686b513d06c0aff5a9d651720dfc3da520157acf89e6f72d13ba93ca57e26a464f5ce19d624d94146dffe4ee6fc8f2aef4582a30135358e3f5a427159f211556f2f4e216c7b438e2f5d3fe39357596fb49a2a993460ca921d0ada00c64fcf2208c74d8ff032fd6936a18fb2a241c0b0bd3b106b1f8671cf586ec5cf956a5784899bff68de55a1e9a54b222fe39a2a7c1786280478d4513c64ef1fbcdc839532eba84e1bcf3f61d03f95c0f059fdcccd5bbd93cee86fd77df64d498893d7cfc41d014527d29d9a2fed4614e467da7e93889d82e690e90c00dc5351b4d8bd9be4b33aeae92f5bfbf0fe708b87b16579179f7374a4cbc927bfa69a2f08d5bfbc2b1833c2bfee451a7129ef04b55e7181d0f6901e0d00e306bd6469f7cc774784231a7620e7c7394d1c7d12acfcd573474f68d531fc8ccf3fc62be30c6efec3bc14b4f2ea59aa340b19153c7241a802ff67e8e3bfa98908e0bc595f83aee466dbcb468cea6c729442eb9b79e4617756c65ba39237c365d7ce8381313f29c4b20253fb6cd543f614b67fc540113856244a7689edc7a3296b096f5629be3ed6d0b0efbcc13b7c2440384ba3179ba71f9294438c67a21b94d8333d5238c47a05e2ed670b921040b7e6e08c5bc0d4570833d962c25184753249234b6ccda22fd84223ebf9f70e6dc675a080f4fbee7377aca33ea856ce508449f746c0a12b619d5f5b7a390433cc492decefde9ea6e15c41ab28826cf065b66409e601484da71d4a885b66796aa0dacf8a3e08baa5c378c890c511ccdf06f95e08684778ebf22d29ecf205a77345a76cc2f68bbc59b0694316123cd2f083ac815856288a132cc7fab11380ef2cade114f814c82528ac09d339d5cd58795365294230e172bd167c0e594dfb3d34f60bba26cc1e7943e98b46b4858bbdc029ba6f5a3a48d8ada874a92a6159e3f8d0e713b1b0e19496f264e96ea520593bb5d4c4bc3b8272db661e95074664a1bcb7d52dfe84a58e22be26e0a941bb4470ca404910428ccc746e124cdf5605d860ba8177271cf66a567e3afe401b0bad5549de8200d3f1ebb86256251607e3eca2820e7467c41f66f91ae822b555792f6f2907b1e52c9e69063a8bc946cdec38e0e408b390a4a41af7346f3458a20c935bacb8974178d7a7182b7c23b909a2755cbc5764c1ead94ea4492291ffc3b2c26ec0c40b1c7746eb7c57a845fb38e99ea5680dc8fc38fa46827509fea644b66f9580b942b0c30134694a0d641e686f9b409800f52d64cb6ed30c14b0826d8637d962f38d905845a82f56d064737697ada450fd86f6a4c69278aa4e64496749bd271eaa7b0f2b556871421341402ae4332442d9b86541da715d15e6c5b3b6b6d828b0c0a8b276a02ba70395d196154749960859ff9927c3daf81680cf5540c78fee4778ebc055386ff50d921f7c81fc2ab87c06ea93802ad4c10b8293a5dc774b831b6dfdbdca29058ccf1416493afb4c3e0fa68a50fcb2385987bc70b3209c61e2e10a29a0e574a000a9f482693c542c65a6e1c458c0230cce2812e4af49584883885523797d6d715794f01fe2d9a2a7e3198d504fbb64466995b1790c126eec362fa2ab18b13528a5aacbf542708640fdb93dd4fa397497f46a49fdaee5a41e1edc8fe1779091ed8412bfb01efce376c7fe89b7848be35d37bc31fca235e33fd2fc16d41257d52faf5526dce0c2af6aee7f368320652dcbcceb18e4561d74df090dfdf200ce9823acaca302452c2f4dea60a0e571399bb68ed2a635dfae564374131bcb609d5b8665fb32dff0db5b72c3efad47db2dba9d6607d22beb9bcf959c2f9fac6ecaa31665fc2b552e86eeb8a6bf8b1e353d8f41a795e168d41cc46a83fbcfa6b67b80dbeb7cc5b1e5578a5fad383990dc8d7bb2bafa02e4de76806cd58e8933a4810affe38597b3f72fe4a651643dbda02d4444472afc1ed67aca80e5bc8258105512983735a0a30551297c5656547b9469405eebaecdff6d8fce10d3eda108adeda45030951c67891395c74005360d4f08620b07b2528ccf2df00a7054fa1b67750ceeca153dc31b5188949f6b9b9087c4611a8ec3ed507d67911d1558d786fa945262715a410b735e3280faa32ef00cb623c92575b68974ef46bb9d1eba7e5a51372def312a3910043a4195053e073c10e0c91eb57a1ac7c152199c1bf89231c5155a378dd73f69f068d89dbfd092e28aed37de78daf8f996e0607df83782b6213ef5aec52d2f8ed68ed99b37764179c4dbc26a65a078c285a6311c0321b18195eb0f5dc4e026dcae1f5bad8d1ef0ff521d868aa5a3d35b31c0a21a2e716187061556f9ac525231d1da319e3ec020efd3ab5b0aa8773ed38ff72c2f11b951b27eac04e7d416cd9b6e485d6d0a387cf48fd4d8e235e7c4bff0df3b74d004ea6d627bb186b5783a6ff8e0dc105683dce18bbbe45ed7da4809f8bd3af9e0acf523a8c4320392a9df5bd9b06e5e80e5d117595826642ee35227dc50dfc7264b96c89a07dede06eb3e4ace9262c452c077249987d918df68ecbfb13521414e9cefdfe7bf54f2b47ee760852ae92e79a248c34889e230c3f0abed74bb8033484948bda0ec4d93930d15f5d5af59cc27e61bddad4c45138a4370fadcb1bb935a7f7f283328cf079a945c19000c2d93bbf827eecf2e61fc9618109ffeaa23914cf535a2fdaf475414194df3f8ed2fc806e6da22991097652959c5dcd0f27511f8a7e62106ebb3a4c45cebce9982d2b3039e21534d55c2423b86391f69f15d47b12dd8f9c7692ba703b3e3117a80a18bbb851cc28aab7b0a5ca2cdb34deebbf359e1d91896c809f07768b69c84717d58b4788cc24e5fa18b40021e3f85dd3aadcbe9ed317a96258f6c8e3ea11084d8965148f73a3bb9f985782e12de4bc57360f421cb487b36f0a15b96b400dcfee4d390610777712e162828532f2a10a2902ae2114f9019fa83f4b62d00178bb0fe44d6f52e14d3cfcf435a23594dd940f1ba0af35800e9e217050246dcf4cb64a94c3c116f11c18cd988fc2f4c0a3a58c5dbcaae25f31e145cfc444b64155da5b181a724d75788e2d9d80445ac470f6ed6423e7bd69ef18932a413736922f8389a3a2657288b2546c836d08f74c974136ebb218aba70812a0c335de7817b9aff791da6f1e1e474ae95f19dd07fed20e39ffb7a1e0c18cee7f863dcc054b19c61b026b2a91729b2d58252499d745ac13c6ff1940ef694fbe8df0e3a4d36c378767e07945fab9ae88b76545487f458424b4e10d14e543845713b52dd41439f91d51e8bae829caf78382351d5f8df50d67a988e79761ac4770dd608cb879179c6aa8e74ea822aa461f1ee5c271742fa920928a76eb3a8a298d4758c67359564d4f829f63bc656e0f019716856423400b4717abe0e38835a0f7601f8054595c674458162b05fb13c4bb3c04e388ccdc80f38d3b38135486f79cbe42fb4ed92d999b9e1e2d8a1d0209b6343e529993c6e99729bd65d679c5e174d7dc207e8ef9f41195eab3eff1196b738f0bdf6bc2212dc15721ba40b01e9eab3398102a34ad3e866991dc3cad4d7f4082ecd3ee5f10cc73d9772a891771e4856faf2852b208e00d581bc39a358b049e5b2fee2c19bd278e57577d0a526b669eb601c2f6068af6ec8b914124128357c71187f979f46efb9fb3fda89a4bf5daee890572b53dd2e4e70bbada10bea8694142a877c5d6e955816e7f49c3da954cf41c9394b35aaf8eba80ffe4a8f1351e1af76e4f13b757e485e35a6b183fabd87978a65c3ada5299c3bab5b10d776a8fdc6ffc90e7183e7f71db5397391ea242c00b1b6a87d3b25f12e25c09d235623eae931d57c54161ffcc7602415ccf623d70d6821cdb054c097de5978e4d712c8e95e9ffb535feb413c903c32ea9f44537c352584b7275921f55624af7ba1a7ff3d45c5792a0603dd5ad54816f36b5ab0ff53ed11461628f76e9b83b5aa117d9c6319e00c30b7a0af1eb0b6bf37851159c0a0648361e3b98cbcc3ce9e57047f943b56715809286eb6f2d55b9e377968470c50b1e33651e6456ae9153e39d90e0ab7365b0cbd3ead839aa780f73ad0949b58159a26bb9e7b6c3ae577f2388d1f3f890578858b4943eadcda732b4ee4736179d97f1e8d011c02e14d27d7064d365582686f40c0e250f0b139f0b425fdf317b80d066e7f7f96e5579f9f0b300ebe9404c6572d77ce8bfd55fd3b8cfab369ba9fc1d3de8f05d598e809f195efc0a26c005f80d9faa3fca37dc6a528c5294582305bd48c67e5f77a22cf0886b0f7068a351a81eaaa47eb8fd692a06e72dc2797ad789056136dddfbe8ccc132b3de90ad0bd98ea3e64a9becea9818c904f6c10c26476603da2304f5b8ee557ef8c0f7a1bc204c42aa880e6e27c96ddeafbbd340279224fab34b5d3fdf0c019b4326714e092f4ffad1812cf08a5068a842b86aaa6e8aee0a5b9939960105d117ab299f523048984636d7e12b15073738d8bcfd52507d4def7fcdf193e6a64a1f57f1c69272699ea4313a7d3fdb6e2d1fa3120bf7beca88ad6a20a1b9448f7a0978220709b75cd977a2e23fa14ff8d65952f2237c873eba79065e70b2fbaaa4fb62cb984925f0152d832d8609bef9302ee2a01ca98c4b4f3cb5ab976514d13ede00cbd44640fefcb58c73095f5d1b80f345386c8b908c4afcd15aa45b1f81c036e98b0266c636918e500dddc270fd06b9a930ab4b3bec2a9ef50c2fb5cb4d29a08ff4cc8aea919238a3e154b100af6ba06d7ab92f07c9e882705d7152aae7678bff3822aa1e3e5c79486343662f089f789c621c1e050e20996f79e2919c097741756f386a6e71425e95d197028de03cf905a8c266fb65131ec9fc054329e71e8bff512d6b23d79732532b2dec427bd631feffe0e6d15c5e50bb297bb08bde90e8c9ba9f3998503960477b9443561639578113370d85dd517eb8bb22d7014fdd5b42ecf95bb669977f670d4c3780f37bb5de2181a0d2ccab8d5b4284d943e3d30885dcec21c3af22eee7484fe064c54d4b2b464bececfb253b32edb9db62b67f3072e797f726a8b6ab591a0efa282c8778a323c96193e3822626c94b955a72ed6972407685b476dd1a096d007ee3c5c6f52f869a53b8f493ab06f8d3774f970a211ff60424b043d9ccc47a9354932189bed20cfd4ccd5e2bf9286334d364505313006a0ecfc090382bc36aec8288688cbb1ef5233888108e1542850b27810f86f80edc3228a4b796cc480d6129a1811fe392144210430fc64b4771ec76d9a08d22ef810d699e38afd7a61fb3dda09c05796e864b907c32d81bdb9c5f3b05cd992a5921471c06a6b9a3db2256c2b8aa47d53870a9dab7b602998cde7fe97b9a66d529fdfb286ae962f1b4dae47eb57fc326253d3ea6bb574a596afe7ec2308304416f93859339d42342d69a70aede53789c49815fc112e191219e64e61077b41cb45a671cb6639196f12ce54a499fda517739acc8def19cae3d51bcd1db2ee4a7f80f0c18b52e757039fc9add25c33eadb997fb08c6d8ac2d085076d875c18ac5823053cfcf7c856bf1dcd453bb619c1239145972a5020ee73f650d543e11a217d3a9fc6e9c2e369e6e55d87ca9c7a89d3d6eafc9c2c84eba735c58639dd958ea99c3cbe84d57c629324d7ca61cc44ac26273477ccb5ea7e7ebdc82a4d047bc5bb1b0dd68f5bb105554c40a2c375791058b11c922cba76920d4ad60d7944ae05252fb7261fa0702c8e170f7199aad029077e3e5bde351689857581f01fd91796fbf6f54025a8e701c5cc342ffe4d3d75dcbfd572d19cf420cdd000926c30116164a653a9ec6b478c4ee4c598399895999ac92184f06d1dd625a3bf98a26248a0f552a7e5cd651b925a26b44379388d57d31e6467426e15fe5e41108a8c52c91e3e49cd8106ef056156fa7645e3401c1011a07720e5e67283d9f122c180660bc8b9cf6a3c594b93d41d8e5d4a97ba8d43875b610543fd27936e05d20aed4374d7f049a1a815d31684f678480b848b3c21068bed65aae1afe958df6869d0dd287950f69db97bf00737ec4ac5f0cf91daa2a3fd00116095e7c35fda32d4316609f046ea173416ff6ecf074a4537c71125a4d6ac19bf23323453fc7b78718860ee010a8c20bbc640dae5e2fd23207ff605814c67dd3b5e0dc311f1d1559377f6c7e2d7f7824d82c330aee4cd335d6a342f681041544a079e06c66068dc3a64ad17c102da68ad0c74f3c133238ba95ed9dc346d2f422821002cfc69bdb089bf6150fe378b5d7b77713969ac828d8677a4f8cacf2df7b69ab5a576f5b0710554775ebdea5a7b1150b9b77a5084cb6b9db3273f9ec9d6e6a0eb587a67730121c9887da7c7e5350262291c1faedcf1ce213681c9a191061905e0e2bb09e0d544204ed16f233e10be09c32e5fdf9da55de1db84fd727f38b19aacf3d2c25926e237f5e9f7c6e416dfd846121c2219d1b73297d76dee9c82d2b7e1a235033fdc7747b8be3f4b3950f671a80fea701fd304dd486e85cba652c171964a6345fbd0d23d34a15576dff3a8c2df64279aeba72051f4498426ce996efb6b41f6e05b51ad1741941c1646f1099530400ce0a80eaa8da4fb2aca3ee17dfd28b9093f0bfd17b96ee51a35076157eb2372c8ff5509492b74a0d2c9a8f79f7a182c998335638dbd3d50dcdd97acccb7404f7176a6bf697fe0e2fdfe157c8f80cf31f273428d798a402d14a222155700c48fea5715d5db8c11340c5a2aa1922f64ca4e409fae3f0004b708061715bcfcf8f46e1565d3cfdfe78f9a538efe93c154ad9d77090eb88ac7368896ea31c8f77490b3e27438f4a347a37a35cfa93cb1bf87e0343e900d028b98426fb90956f8e0f0223a7dac402ebc3f6927920fbdfc5d8791189e90a36c06bfc71723d71e2867adf45d4aab69ed954bb40152059c0baf9c746cfae997492f2e28a67d2d9eefe5ad6de96f1ddf5e38ce5beb75a920e08a4c961fd72953c5e60373a5e73a5801aba76427a8226d5c4be1e33c5953723fbe30403ff05a5ff2e32be5bf9eb008b908fd975ec56036ccb8b4d2ba9dda24876c04d1f9399b59d7f2a4ab7c9c2db7312da3e879a48dbf1e24f15407fba6fdc9afff6427fa5c80b48dff5f6ff071b08b373f745f6bd0d5082c390b8e4d8b29a17fa2df3314010117989d4be9a5097dd6d0dae50da223b4d2156ec2436e2c2646bd0fa2b9471a245ab847a487b6ace6363b572c1939a79c9ecbf40cb267f5066577e51cfa7060025969411af6411dc5b3cf3996ff9384c07f131df2b5d1159294296cad5223ebf24dc09af5ec2589369b26b5e31a92834bc3] */